{
  "version": "6",
  "dialect": "sqlite",
  "id": "a120b1c8-8a6a-4450-8679-e81de235b795",
  "prevId": "95f935e0-9673-452d-8cd4-f8ef9560f8bc",
  "tables": {
    "ai_providers": {
      "name": "ai_providers",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "models": {
          "name": "models",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'[]'"
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "base_url": {
          "name": "base_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "alert_acknowledgments": {
      "name": "alert_acknowledgments",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "alert_id": {
          "name": "alert_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "action_taken": {
          "name": "action_taken",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_ack_alert": {
          "name": "idx_ack_alert",
          "columns": [
            "alert_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "alert_acknowledgments_alert_id_safety_alerts_id_fk": {
          "name": "alert_acknowledgments_alert_id_safety_alerts_id_fk",
          "tableFrom": "alert_acknowledgments",
          "tableTo": "safety_alerts",
          "columnsFrom": [
            "alert_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "alert_acknowledgments_user_id_users_id_fk": {
          "name": "alert_acknowledgments_user_id_users_id_fk",
          "tableFrom": "alert_acknowledgments",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "attendance": {
      "name": "attendance",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "arrived_at": {
          "name": "arrived_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "left_at": {
          "name": "left_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "excuse_reason": {
          "name": "excuse_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "marked_by": {
          "name": "marked_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "marked_at": {
          "name": "marked_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_attendance_unique": {
          "name": "idx_attendance_unique",
          "columns": [
            "session_id",
            "user_id"
          ],
          "isUnique": true
        },
        "idx_attendance_user": {
          "name": "idx_attendance_user",
          "columns": [
            "user_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "attendance_session_id_class_sessions_id_fk": {
          "name": "attendance_session_id_class_sessions_id_fk",
          "tableFrom": "attendance",
          "tableTo": "class_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "attendance_user_id_users_id_fk": {
          "name": "attendance_user_id_users_id_fk",
          "tableFrom": "attendance",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "attendance_marked_by_users_id_fk": {
          "name": "attendance_marked_by_users_id_fk",
          "tableFrom": "attendance",
          "tableTo": "users",
          "columnsFrom": [
            "marked_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "badges": {
      "name": "badges",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "icon": {
          "name": "icon",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "criteria": {
          "name": "criteria",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "rarity": {
          "name": "rarity",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'common'"
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "bank_accounts": {
      "name": "bank_accounts",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "bank_code": {
          "name": "bank_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "bank_name": {
          "name": "bank_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "agency": {
          "name": "agency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "account_number": {
          "name": "account_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "account_type": {
          "name": "account_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'CHECKING'"
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_bank_accounts_org": {
          "name": "idx_bank_accounts_org",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "bank_accounts_organization_id_organizations_id_fk": {
          "name": "bank_accounts_organization_id_organizations_id_fk",
          "tableFrom": "bank_accounts",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "campaign_leads": {
      "name": "campaign_leads",
      "columns": {
        "campaign_id": {
          "name": "campaign_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "lead_id": {
          "name": "lead_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "attributed_at": {
          "name": "attributed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "converted": {
          "name": "converted",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        }
      },
      "indexes": {
        "idx_campaign_leads_pk": {
          "name": "idx_campaign_leads_pk",
          "columns": [
            "campaign_id",
            "lead_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "campaign_leads_campaign_id_campaigns_id_fk": {
          "name": "campaign_leads_campaign_id_campaigns_id_fk",
          "tableFrom": "campaign_leads",
          "tableTo": "campaigns",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "campaign_leads_lead_id_leads_id_fk": {
          "name": "campaign_leads_lead_id_leads_id_fk",
          "tableFrom": "campaign_leads",
          "tableTo": "leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "campaigns": {
      "name": "campaigns",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "campaign_type": {
          "name": "campaign_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "channels": {
          "name": "channels",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "budget_cents": {
          "name": "budget_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "spent_cents": {
          "name": "spent_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "starts_at": {
          "name": "starts_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "ends_at": {
          "name": "ends_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "target_audience": {
          "name": "target_audience",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "goal_leads": {
          "name": "goal_leads",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "goal_enrollments": {
          "name": "goal_enrollments",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "goal_revenue_cents": {
          "name": "goal_revenue_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "actual_leads": {
          "name": "actual_leads",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "actual_enrollments": {
          "name": "actual_enrollments",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "actual_revenue_cents": {
          "name": "actual_revenue_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'draft'"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_campaigns_status": {
          "name": "idx_campaigns_status",
          "columns": [
            "status",
            "starts_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "campaigns_organization_id_organizations_id_fk": {
          "name": "campaigns_organization_id_organizations_id_fk",
          "tableFrom": "campaigns",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "campaigns_created_by_users_id_fk": {
          "name": "campaigns_created_by_users_id_fk",
          "tableFrom": "campaigns",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "capstone_submissions": {
      "name": "capstone_submissions",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "module_id": {
          "name": "module_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "prompt_ids": {
          "name": "prompt_ids",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "run_ids": {
          "name": "run_ids",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "workshop_id": {
          "name": "workshop_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "attachments": {
          "name": "attachments",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'draft'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "self_score": {
          "name": "self_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "self_feedback": {
          "name": "self_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "self_rubric": {
          "name": "self_rubric",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "teacher_score": {
          "name": "teacher_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "teacher_feedback": {
          "name": "teacher_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "teacher_rubric": {
          "name": "teacher_rubric",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "peer_score": {
          "name": "peer_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "peer_count": {
          "name": "peer_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "final_score": {
          "name": "final_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "graded_at": {
          "name": "graded_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "graded_by": {
          "name": "graded_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_capstone_user": {
          "name": "idx_capstone_user",
          "columns": [
            "user_id",
            "module_id"
          ],
          "isUnique": false
        },
        "idx_capstone_class": {
          "name": "idx_capstone_class",
          "columns": [
            "class_id",
            "module_id"
          ],
          "isUnique": false
        },
        "idx_capstone_status": {
          "name": "idx_capstone_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "capstone_submissions_user_id_users_id_fk": {
          "name": "capstone_submissions_user_id_users_id_fk",
          "tableFrom": "capstone_submissions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capstone_submissions_module_id_modules_id_fk": {
          "name": "capstone_submissions_module_id_modules_id_fk",
          "tableFrom": "capstone_submissions",
          "tableTo": "modules",
          "columnsFrom": [
            "module_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capstone_submissions_workshop_id_problem_workshops_id_fk": {
          "name": "capstone_submissions_workshop_id_problem_workshops_id_fk",
          "tableFrom": "capstone_submissions",
          "tableTo": "problem_workshops",
          "columnsFrom": [
            "workshop_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capstone_submissions_graded_by_users_id_fk": {
          "name": "capstone_submissions_graded_by_users_id_fk",
          "tableFrom": "capstone_submissions",
          "tableTo": "users",
          "columnsFrom": [
            "graded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "challenge_attempts": {
      "name": "challenge_attempts",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "challenge_id": {
          "name": "challenge_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "run_id": {
          "name": "run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "solved": {
          "name": "solved",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "verified_by": {
          "name": "verified_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_attempts_challenge": {
          "name": "idx_attempts_challenge",
          "columns": [
            "challenge_id"
          ],
          "isUnique": false
        },
        "idx_attempts_user": {
          "name": "idx_attempts_user",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "challenge_attempts_challenge_id_challenges_id_fk": {
          "name": "challenge_attempts_challenge_id_challenges_id_fk",
          "tableFrom": "challenge_attempts",
          "tableTo": "challenges",
          "columnsFrom": [
            "challenge_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "challenge_attempts_user_id_users_id_fk": {
          "name": "challenge_attempts_user_id_users_id_fk",
          "tableFrom": "challenge_attempts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "challenge_attempts_run_id_prompt_runs_id_fk": {
          "name": "challenge_attempts_run_id_prompt_runs_id_fk",
          "tableFrom": "challenge_attempts",
          "tableTo": "prompt_runs",
          "columnsFrom": [
            "run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "challenge_attempts_verified_by_users_id_fk": {
          "name": "challenge_attempts_verified_by_users_id_fk",
          "tableFrom": "challenge_attempts",
          "tableTo": "users",
          "columnsFrom": [
            "verified_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "challenges": {
      "name": "challenges",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "author_id": {
          "name": "author_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "technique_required": {
          "name": "technique_required",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'any'"
        },
        "difficulty": {
          "name": "difficulty",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 3
        },
        "attempt_count": {
          "name": "attempt_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "solve_count": {
          "name": "solve_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_challenges_author": {
          "name": "idx_challenges_author",
          "columns": [
            "author_id"
          ],
          "isUnique": false
        },
        "idx_challenges_class": {
          "name": "idx_challenges_class",
          "columns": [
            "class_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "challenges_author_id_users_id_fk": {
          "name": "challenges_author_id_users_id_fk",
          "tableFrom": "challenges",
          "tableTo": "users",
          "columnsFrom": [
            "author_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "chart_of_accounts": {
      "name": "chart_of_accounts",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "account_type": {
          "name": "account_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "nature": {
          "name": "nature",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "classification": {
          "name": "classification",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "parent_id": {
          "name": "parent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "level": {
          "name": "level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "allows_posting": {
          "name": "allows_posting",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "is_system": {
          "name": "is_system",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "cofins_applicable": {
          "name": "cofins_applicable",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "pis_applicable": {
          "name": "pis_applicable",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "csll_applicable": {
          "name": "csll_applicable",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "irpj_applicable": {
          "name": "irpj_applicable",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_chart_accounts_org": {
          "name": "idx_chart_accounts_org",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        },
        "idx_chart_accounts_code": {
          "name": "idx_chart_accounts_code",
          "columns": [
            "organization_id",
            "code"
          ],
          "isUnique": true
        },
        "idx_chart_accounts_type": {
          "name": "idx_chart_accounts_type",
          "columns": [
            "account_type"
          ],
          "isUnique": false
        },
        "idx_chart_accounts_parent": {
          "name": "idx_chart_accounts_parent",
          "columns": [
            "parent_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "chart_of_accounts_organization_id_organizations_id_fk": {
          "name": "chart_of_accounts_organization_id_organizations_id_fk",
          "tableFrom": "chart_of_accounts",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "chat_messages": {
      "name": "chat_messages",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "content_encrypted": {
          "name": "content_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_chat_messages_session": {
          "name": "idx_chat_messages_session",
          "columns": [
            "session_id",
            "timestamp"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "chat_messages_session_id_chat_sessions_id_fk": {
          "name": "chat_messages_session_id_chat_sessions_id_fk",
          "tableFrom": "chat_messages",
          "tableTo": "chat_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "chat_sessions": {
      "name": "chat_sessions",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "started_at": {
          "name": "started_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "ended_at": {
          "name": "ended_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "message_count": {
          "name": "message_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        }
      },
      "indexes": {
        "idx_chat_sessions_student": {
          "name": "idx_chat_sessions_student",
          "columns": [
            "student_id"
          ],
          "isUnique": false
        },
        "idx_chat_sessions_org": {
          "name": "idx_chat_sessions_org",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        },
        "idx_chat_sessions_time": {
          "name": "idx_chat_sessions_time",
          "columns": [
            "started_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "chat_sessions_student_id_users_id_fk": {
          "name": "chat_sessions_student_id_users_id_fk",
          "tableFrom": "chat_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "chat_sessions_organization_id_organizations_id_fk": {
          "name": "chat_sessions_organization_id_organizations_id_fk",
          "tableFrom": "chat_sessions",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "class_sessions": {
      "name": "class_sessions",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "schedule_id": {
          "name": "schedule_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "session_date": {
          "name": "session_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "start_time": {
          "name": "start_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "end_time": {
          "name": "end_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "room_id": {
          "name": "room_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'scheduled'"
        },
        "lesson_id": {
          "name": "lesson_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "teacher_id": {
          "name": "teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_sessions_class": {
          "name": "idx_sessions_class",
          "columns": [
            "class_id",
            "session_date"
          ],
          "isUnique": false
        },
        "idx_sessions_date": {
          "name": "idx_sessions_date",
          "columns": [
            "session_date"
          ],
          "isUnique": false
        },
        "idx_sessions_teacher": {
          "name": "idx_sessions_teacher",
          "columns": [
            "teacher_id",
            "session_date"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "class_sessions_class_id_classes_id_fk": {
          "name": "class_sessions_class_id_classes_id_fk",
          "tableFrom": "class_sessions",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "class_sessions_schedule_id_schedules_id_fk": {
          "name": "class_sessions_schedule_id_schedules_id_fk",
          "tableFrom": "class_sessions",
          "tableTo": "schedules",
          "columnsFrom": [
            "schedule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "class_sessions_room_id_rooms_id_fk": {
          "name": "class_sessions_room_id_rooms_id_fk",
          "tableFrom": "class_sessions",
          "tableTo": "rooms",
          "columnsFrom": [
            "room_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "class_sessions_lesson_id_lessons_id_fk": {
          "name": "class_sessions_lesson_id_lessons_id_fk",
          "tableFrom": "class_sessions",
          "tableTo": "lessons",
          "columnsFrom": [
            "lesson_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "class_sessions_teacher_id_users_id_fk": {
          "name": "class_sessions_teacher_id_users_id_fk",
          "tableFrom": "class_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "classes": {
      "name": "classes",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "course_id": {
          "name": "course_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "course_type_id": {
          "name": "course_type_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "level_id": {
          "name": "level_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "term_id": {
          "name": "term_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "teacher_id": {
          "name": "teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "max_students": {
          "name": "max_students",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 15
        },
        "current_students": {
          "name": "current_students",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'draft'"
        },
        "starts_at": {
          "name": "starts_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "ends_at": {
          "name": "ends_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_classes_org": {
          "name": "idx_classes_org",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        },
        "idx_classes_teacher": {
          "name": "idx_classes_teacher",
          "columns": [
            "teacher_id"
          ],
          "isUnique": false
        },
        "idx_classes_term": {
          "name": "idx_classes_term",
          "columns": [
            "term_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "classes_organization_id_organizations_id_fk": {
          "name": "classes_organization_id_organizations_id_fk",
          "tableFrom": "classes",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "classes_course_id_courses_id_fk": {
          "name": "classes_course_id_courses_id_fk",
          "tableFrom": "classes",
          "tableTo": "courses",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "classes_course_type_id_course_types_id_fk": {
          "name": "classes_course_type_id_course_types_id_fk",
          "tableFrom": "classes",
          "tableTo": "course_types",
          "columnsFrom": [
            "course_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "classes_level_id_levels_id_fk": {
          "name": "classes_level_id_levels_id_fk",
          "tableFrom": "classes",
          "tableTo": "levels",
          "columnsFrom": [
            "level_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "classes_term_id_terms_id_fk": {
          "name": "classes_term_id_terms_id_fk",
          "tableFrom": "classes",
          "tableTo": "terms",
          "columnsFrom": [
            "term_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "classes_teacher_id_users_id_fk": {
          "name": "classes_teacher_id_users_id_fk",
          "tableFrom": "classes",
          "tableTo": "users",
          "columnsFrom": [
            "teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "cost_centers": {
      "name": "cost_centers",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "parent_id": {
          "name": "parent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "level": {
          "name": "level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "center_type": {
          "name": "center_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'department'"
        },
        "manager_id": {
          "name": "manager_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "annual_budget_cents": {
          "name": "annual_budget_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "monthly_budget_cents": {
          "name": "monthly_budget_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_cost_centers_org": {
          "name": "idx_cost_centers_org",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        },
        "idx_cost_centers_code": {
          "name": "idx_cost_centers_code",
          "columns": [
            "organization_id",
            "code"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "cost_centers_organization_id_organizations_id_fk": {
          "name": "cost_centers_organization_id_organizations_id_fk",
          "tableFrom": "cost_centers",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cost_centers_manager_id_users_id_fk": {
          "name": "cost_centers_manager_id_users_id_fk",
          "tableFrom": "cost_centers",
          "tableTo": "users",
          "columnsFrom": [
            "manager_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "course_pricing": {
      "name": "course_pricing",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "course_id": {
          "name": "course_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "full_price": {
          "name": "full_price",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'BRL'"
        },
        "max_installments": {
          "name": "max_installments",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "installment_price": {
          "name": "installment_price",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "early_payment_discount_percent": {
          "name": "early_payment_discount_percent",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "early_payment_days": {
          "name": "early_payment_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 5
        },
        "late_payment_fee_percent": {
          "name": "late_payment_fee_percent",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 2
        },
        "late_payment_fee_fixed": {
          "name": "late_payment_fee_fixed",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "teacher_id": {
          "name": "teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "teacher_percentage": {
          "name": "teacher_percentage",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "school_percentage": {
          "name": "school_percentage",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 100
        },
        "platform_fee_percent": {
          "name": "platform_fee_percent",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 5
        },
        "transaction_fee_percent": {
          "name": "transaction_fee_percent",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 2.5
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_course_pricing_course": {
          "name": "idx_course_pricing_course",
          "columns": [
            "course_id"
          ],
          "isUnique": false
        },
        "idx_course_pricing_teacher": {
          "name": "idx_course_pricing_teacher",
          "columns": [
            "teacher_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "course_pricing_course_id_courses_id_fk": {
          "name": "course_pricing_course_id_courses_id_fk",
          "tableFrom": "course_pricing",
          "tableTo": "courses",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "course_pricing_teacher_id_users_id_fk": {
          "name": "course_pricing_teacher_id_users_id_fk",
          "tableFrom": "course_pricing",
          "tableTo": "users",
          "columnsFrom": [
            "teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "course_types": {
      "name": "course_types",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "has_levels": {
          "name": "has_levels",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "has_modules": {
          "name": "has_modules",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "default_duration_weeks": {
          "name": "default_duration_weeks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 24
        },
        "default_hours_per_week": {
          "name": "default_hours_per_week",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 2
        },
        "default_monthly_price": {
          "name": "default_monthly_price",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "courses": {
      "name": "courses",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'{}'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "is_published": {
          "name": "is_published",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "is_public": {
          "name": "is_public",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "version": {
          "name": "version",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'1.0'"
        },
        "language": {
          "name": "language",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'pt-BR'"
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "archived_at": {
          "name": "archived_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_courses_org": {
          "name": "idx_courses_org",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "courses_organization_id_organizations_id_fk": {
          "name": "courses_organization_id_organizations_id_fk",
          "tableFrom": "courses",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "courses_created_by_users_id_fk": {
          "name": "courses_created_by_users_id_fk",
          "tableFrom": "courses",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "crm_audit_log": {
      "name": "crm_audit_log",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "field_name": {
          "name": "field_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "previous_value": {
          "name": "previous_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "new_value": {
          "name": "new_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "previous_snapshot": {
          "name": "previous_snapshot",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "new_snapshot": {
          "name": "new_snapshot",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "change_description": {
          "name": "change_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "changed_by": {
          "name": "changed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "changed_by_name": {
          "name": "changed_by_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "changed_by_role": {
          "name": "changed_by_role",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "can_undo": {
          "name": "can_undo",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "undone_at": {
          "name": "undone_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "undone_by": {
          "name": "undone_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "undo_reason": {
          "name": "undo_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "undoes_log_id": {
          "name": "undoes_log_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_crm_audit_entity": {
          "name": "idx_crm_audit_entity",
          "columns": [
            "entity_type",
            "entity_id"
          ],
          "isUnique": false
        },
        "idx_crm_audit_org": {
          "name": "idx_crm_audit_org",
          "columns": [
            "organization_id",
            "created_at"
          ],
          "isUnique": false
        },
        "idx_crm_audit_changed_by": {
          "name": "idx_crm_audit_changed_by",
          "columns": [
            "changed_by"
          ],
          "isUnique": false
        },
        "idx_crm_audit_action": {
          "name": "idx_crm_audit_action",
          "columns": [
            "action"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "crm_audit_log_organization_id_organizations_id_fk": {
          "name": "crm_audit_log_organization_id_organizations_id_fk",
          "tableFrom": "crm_audit_log",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_audit_log_changed_by_users_id_fk": {
          "name": "crm_audit_log_changed_by_users_id_fk",
          "tableFrom": "crm_audit_log",
          "tableTo": "users",
          "columnsFrom": [
            "changed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_audit_log_undone_by_users_id_fk": {
          "name": "crm_audit_log_undone_by_users_id_fk",
          "tableFrom": "crm_audit_log",
          "tableTo": "users",
          "columnsFrom": [
            "undone_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "crm_stage_history": {
      "name": "crm_stage_history",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "from_stage": {
          "name": "from_stage",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "to_stage": {
          "name": "to_stage",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "entered_at": {
          "name": "entered_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "exited_at": {
          "name": "exited_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "duration_seconds": {
          "name": "duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "changed_by": {
          "name": "changed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "value_at_transition": {
          "name": "value_at_transition",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_stage_history_entity": {
          "name": "idx_stage_history_entity",
          "columns": [
            "entity_type",
            "entity_id"
          ],
          "isUnique": false
        },
        "idx_stage_history_stages": {
          "name": "idx_stage_history_stages",
          "columns": [
            "from_stage",
            "to_stage"
          ],
          "isUnique": false
        },
        "idx_stage_history_date": {
          "name": "idx_stage_history_date",
          "columns": [
            "entered_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "crm_stage_history_organization_id_organizations_id_fk": {
          "name": "crm_stage_history_organization_id_organizations_id_fk",
          "tableFrom": "crm_stage_history",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_stage_history_changed_by_users_id_fk": {
          "name": "crm_stage_history_changed_by_users_id_fk",
          "tableFrom": "crm_stage_history",
          "tableTo": "users",
          "columnsFrom": [
            "changed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "discounts": {
      "name": "discounts",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "discount_type": {
          "name": "discount_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "percentage": {
          "name": "percentage",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "fixed_amount": {
          "name": "fixed_amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "min_purchase": {
          "name": "min_purchase",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "applies_to": {
          "name": "applies_to",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "max_uses": {
          "name": "max_uses",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "max_uses_per_user": {
          "name": "max_uses_per_user",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "current_uses": {
          "name": "current_uses",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "valid_from": {
          "name": "valid_from",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "valid_until": {
          "name": "valid_until",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "discounts_code_unique": {
          "name": "discounts_code_unique",
          "columns": [
            "code"
          ],
          "isUnique": true
        },
        "idx_discounts_code": {
          "name": "idx_discounts_code",
          "columns": [
            "code"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "discounts_organization_id_organizations_id_fk": {
          "name": "discounts_organization_id_organizations_id_fk",
          "tableFrom": "discounts",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "email_templates": {
      "name": "email_templates",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "template_type": {
          "name": "template_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "trigger_event": {
          "name": "trigger_event",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "body_html": {
          "name": "body_html",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "body_text": {
          "name": "body_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "variables": {
          "name": "variables",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "email_templates_organization_id_organizations_id_fk": {
          "name": "email_templates_organization_id_organizations_id_fk",
          "tableFrom": "email_templates",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "enrollments": {
      "name": "enrollments",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "term_id": {
          "name": "term_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lead_id": {
          "name": "lead_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "trial_id": {
          "name": "trial_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'active'"
        },
        "enrolled_at": {
          "name": "enrolled_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "starts_at": {
          "name": "starts_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "ends_at": {
          "name": "ends_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "dropped_at": {
          "name": "dropped_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "drop_reason": {
          "name": "drop_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "transferred_to_enrollment_id": {
          "name": "transferred_to_enrollment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_enrollments_user": {
          "name": "idx_enrollments_user",
          "columns": [
            "user_id",
            "status"
          ],
          "isUnique": false
        },
        "idx_enrollments_class": {
          "name": "idx_enrollments_class",
          "columns": [
            "class_id",
            "status"
          ],
          "isUnique": false
        },
        "idx_enrollments_term": {
          "name": "idx_enrollments_term",
          "columns": [
            "term_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "enrollments_organization_id_organizations_id_fk": {
          "name": "enrollments_organization_id_organizations_id_fk",
          "tableFrom": "enrollments",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enrollments_user_id_users_id_fk": {
          "name": "enrollments_user_id_users_id_fk",
          "tableFrom": "enrollments",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enrollments_class_id_classes_id_fk": {
          "name": "enrollments_class_id_classes_id_fk",
          "tableFrom": "enrollments",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enrollments_term_id_terms_id_fk": {
          "name": "enrollments_term_id_terms_id_fk",
          "tableFrom": "enrollments",
          "tableTo": "terms",
          "columnsFrom": [
            "term_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enrollments_lead_id_leads_id_fk": {
          "name": "enrollments_lead_id_leads_id_fk",
          "tableFrom": "enrollments",
          "tableTo": "leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enrollments_trial_id_trial_classes_id_fk": {
          "name": "enrollments_trial_id_trial_classes_id_fk",
          "tableFrom": "enrollments",
          "tableTo": "trial_classes",
          "columnsFrom": [
            "trial_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "family_links": {
      "name": "family_links",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "parent_id": {
          "name": "parent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "relationship": {
          "name": "relationship",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'parent'"
        },
        "can_view_progress": {
          "name": "can_view_progress",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "can_view_grades": {
          "name": "can_view_grades",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "can_pay_invoices": {
          "name": "can_pay_invoices",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "can_communicate": {
          "name": "can_communicate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "is_primary_contact": {
          "name": "is_primary_contact",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_family_unique": {
          "name": "idx_family_unique",
          "columns": [
            "parent_id",
            "student_id"
          ],
          "isUnique": true
        },
        "idx_family_student": {
          "name": "idx_family_student",
          "columns": [
            "student_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "family_links_parent_id_users_id_fk": {
          "name": "family_links_parent_id_users_id_fk",
          "tableFrom": "family_links",
          "tableTo": "users",
          "columnsFrom": [
            "parent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "family_links_student_id_users_id_fk": {
          "name": "family_links_student_id_users_id_fk",
          "tableFrom": "family_links",
          "tableTo": "users",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "fiscal_documents": {
      "name": "fiscal_documents",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "document_type": {
          "name": "document_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "document_number": {
          "name": "document_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "series": {
          "name": "series",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "access_key": {
          "name": "access_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "verification_code": {
          "name": "verification_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "issue_date": {
          "name": "issue_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "competence_date": {
          "name": "competence_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "issuer_id": {
          "name": "issuer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "issuer_document": {
          "name": "issuer_document",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "issuer_name": {
          "name": "issuer_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "recipient_id": {
          "name": "recipient_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "recipient_document": {
          "name": "recipient_document",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "recipient_name": {
          "name": "recipient_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "total_amount_cents": {
          "name": "total_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "net_amount_cents": {
          "name": "net_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "iss_amount_cents": {
          "name": "iss_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "iss_rate": {
          "name": "iss_rate",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "pis_amount_cents": {
          "name": "pis_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "cofins_amount_cents": {
          "name": "cofins_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "ir_amount_cents": {
          "name": "ir_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "csll_amount_cents": {
          "name": "csll_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "inss_amount_cents": {
          "name": "inss_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "iss_withheld": {
          "name": "iss_withheld",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "ir_withheld": {
          "name": "ir_withheld",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "pis_withheld": {
          "name": "pis_withheld",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "cofins_withheld": {
          "name": "cofins_withheld",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "csll_withheld": {
          "name": "csll_withheld",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "inss_withheld": {
          "name": "inss_withheld",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "service_code": {
          "name": "service_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "service_description": {
          "name": "service_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "city_service_code": {
          "name": "city_service_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'draft'"
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "xml_url": {
          "name": "xml_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "pdf_url": {
          "name": "pdf_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "cancellation_reason": {
          "name": "cancellation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "invoice_id": {
          "name": "invoice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "payable_id": {
          "name": "payable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "payroll_id": {
          "name": "payroll_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_fiscal_docs_org": {
          "name": "idx_fiscal_docs_org",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        },
        "idx_fiscal_docs_type": {
          "name": "idx_fiscal_docs_type",
          "columns": [
            "document_type",
            "issue_date"
          ],
          "isUnique": false
        },
        "idx_fiscal_docs_issuer": {
          "name": "idx_fiscal_docs_issuer",
          "columns": [
            "issuer_document"
          ],
          "isUnique": false
        },
        "idx_fiscal_docs_recipient": {
          "name": "idx_fiscal_docs_recipient",
          "columns": [
            "recipient_document"
          ],
          "isUnique": false
        },
        "idx_fiscal_docs_access_key": {
          "name": "idx_fiscal_docs_access_key",
          "columns": [
            "access_key"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "fiscal_documents_organization_id_organizations_id_fk": {
          "name": "fiscal_documents_organization_id_organizations_id_fk",
          "tableFrom": "fiscal_documents",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fiscal_documents_issuer_id_users_id_fk": {
          "name": "fiscal_documents_issuer_id_users_id_fk",
          "tableFrom": "fiscal_documents",
          "tableTo": "users",
          "columnsFrom": [
            "issuer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fiscal_documents_recipient_id_users_id_fk": {
          "name": "fiscal_documents_recipient_id_users_id_fk",
          "tableFrom": "fiscal_documents",
          "tableTo": "users",
          "columnsFrom": [
            "recipient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "fiscal_tax_withholdings": {
      "name": "fiscal_tax_withholdings",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tax_type": {
          "name": "tax_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "calculation_base": {
          "name": "calculation_base",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "rate": {
          "name": "rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "amount_withheld": {
          "name": "amount_withheld",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "reference_type": {
          "name": "reference_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "reference_id": {
          "name": "reference_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "reference_number": {
          "name": "reference_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "competency_period": {
          "name": "competency_period",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "withholding_date": {
          "name": "withholding_date",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "due_date": {
          "name": "due_date",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "payment_date": {
          "name": "payment_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "withholder_id": {
          "name": "withholder_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "withholder_name": {
          "name": "withholder_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "beneficiary_id": {
          "name": "beneficiary_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "beneficiary_name": {
          "name": "beneficiary_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "beneficiary_document": {
          "name": "beneficiary_document",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "beneficiary_document_type": {
          "name": "beneficiary_document_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "voucher_type": {
          "name": "voucher_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "voucher_code": {
          "name": "voucher_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "voucher_barcode": {
          "name": "voucher_barcode",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "voucher_auth": {
          "name": "voucher_auth",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_tax_wh_records_org": {
          "name": "idx_tax_wh_records_org",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        },
        "idx_tax_wh_records_period": {
          "name": "idx_tax_wh_records_period",
          "columns": [
            "competency_period"
          ],
          "isUnique": false
        },
        "idx_tax_wh_records_type": {
          "name": "idx_tax_wh_records_type",
          "columns": [
            "tax_type"
          ],
          "isUnique": false
        },
        "idx_tax_wh_records_ref": {
          "name": "idx_tax_wh_records_ref",
          "columns": [
            "reference_type",
            "reference_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fiscal_tax_withholdings_organization_id_organizations_id_fk": {
          "name": "fiscal_tax_withholdings_organization_id_organizations_id_fk",
          "tableFrom": "fiscal_tax_withholdings",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "fiscal_transaction_documents": {
      "name": "fiscal_transaction_documents",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "document_type": {
          "name": "document_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "document_id": {
          "name": "document_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "document_number": {
          "name": "document_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_transaction_docs_transaction": {
          "name": "idx_transaction_docs_transaction",
          "columns": [
            "transaction_id"
          ],
          "isUnique": false
        },
        "idx_transaction_docs_document": {
          "name": "idx_transaction_docs_document",
          "columns": [
            "document_type",
            "document_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fiscal_transaction_documents_transaction_id_fiscal_transactions_id_fk": {
          "name": "fiscal_transaction_documents_transaction_id_fiscal_transactions_id_fk",
          "tableFrom": "fiscal_transaction_documents",
          "tableTo": "fiscal_transactions",
          "columnsFrom": [
            "transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "fiscal_transactions": {
      "name": "fiscal_transactions",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "sequential_number": {
          "name": "sequential_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "detailed_description": {
          "name": "detailed_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "transaction_date": {
          "name": "transaction_date",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "competency_date": {
          "name": "competency_date",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "competency_period": {
          "name": "competency_period",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "payment_method": {
          "name": "payment_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "bank_account_id": {
          "name": "bank_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "bank_transaction_id": {
          "name": "bank_transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "counterparty_name": {
          "name": "counterparty_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "counterparty_document": {
          "name": "counterparty_document",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "counterparty_document_type": {
          "name": "counterparty_document_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "debit_account": {
          "name": "debit_account",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "credit_account": {
          "name": "credit_account",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "cost_center": {
          "name": "cost_center",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "reconciliation_status": {
          "name": "reconciliation_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'PENDING'"
        },
        "reconciled_at": {
          "name": "reconciled_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "reconciled_by": {
          "name": "reconciled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "bank_statement_date": {
          "name": "bank_statement_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "bank_statement_amount": {
          "name": "bank_statement_amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "discrepancy_notes": {
          "name": "discrepancy_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tags": {
          "name": "tags",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_fiscal_transactions_org": {
          "name": "idx_fiscal_transactions_org",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        },
        "idx_fiscal_transactions_period": {
          "name": "idx_fiscal_transactions_period",
          "columns": [
            "competency_period"
          ],
          "isUnique": false
        },
        "idx_fiscal_transactions_type": {
          "name": "idx_fiscal_transactions_type",
          "columns": [
            "type"
          ],
          "isUnique": false
        },
        "idx_fiscal_transactions_category": {
          "name": "idx_fiscal_transactions_category",
          "columns": [
            "category"
          ],
          "isUnique": false
        },
        "idx_fiscal_transactions_date": {
          "name": "idx_fiscal_transactions_date",
          "columns": [
            "transaction_date"
          ],
          "isUnique": false
        },
        "idx_fiscal_transactions_reconciliation": {
          "name": "idx_fiscal_transactions_reconciliation",
          "columns": [
            "reconciliation_status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fiscal_transactions_organization_id_organizations_id_fk": {
          "name": "fiscal_transactions_organization_id_organizations_id_fk",
          "tableFrom": "fiscal_transactions",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fiscal_transactions_bank_account_id_bank_accounts_id_fk": {
          "name": "fiscal_transactions_bank_account_id_bank_accounts_id_fk",
          "tableFrom": "fiscal_transactions",
          "tableTo": "bank_accounts",
          "columnsFrom": [
            "bank_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "graveyard_entries": {
      "name": "graveyard_entries",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "run_id": {
          "name": "run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "character_name": {
          "name": "character_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "cause_of_death": {
          "name": "cause_of_death",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "epitaph": {
          "name": "epitaph",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "module_id": {
          "name": "module_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "technique": {
          "name": "technique",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "resurrected_as_id": {
          "name": "resurrected_as_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_graveyard_user": {
          "name": "idx_graveyard_user",
          "columns": [
            "user_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "graveyard_entries_user_id_users_id_fk": {
          "name": "graveyard_entries_user_id_users_id_fk",
          "tableFrom": "graveyard_entries",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "graveyard_entries_run_id_prompt_runs_id_fk": {
          "name": "graveyard_entries_run_id_prompt_runs_id_fk",
          "tableFrom": "graveyard_entries",
          "tableTo": "prompt_runs",
          "columnsFrom": [
            "run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graveyard_entries_module_id_modules_id_fk": {
          "name": "graveyard_entries_module_id_modules_id_fk",
          "tableFrom": "graveyard_entries",
          "tableTo": "modules",
          "columnsFrom": [
            "module_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graveyard_entries_resurrected_as_id_student_prompts_id_fk": {
          "name": "graveyard_entries_resurrected_as_id_student_prompts_id_fk",
          "tableFrom": "graveyard_entries",
          "tableTo": "student_prompts",
          "columnsFrom": [
            "resurrected_as_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "invoice_items": {
      "name": "invoice_items",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "invoice_id": {
          "name": "invoice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "product_id": {
          "name": "product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "unit_price_cents": {
          "name": "unit_price_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "total_cents": {
          "name": "total_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "period_start": {
          "name": "period_start",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "period_end": {
          "name": "period_end",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_invoice_items": {
          "name": "idx_invoice_items",
          "columns": [
            "invoice_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "invoice_items_invoice_id_invoices_id_fk": {
          "name": "invoice_items_invoice_id_invoices_id_fk",
          "tableFrom": "invoice_items",
          "tableTo": "invoices",
          "columnsFrom": [
            "invoice_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "invoice_items_product_id_products_id_fk": {
          "name": "invoice_items_product_id_products_id_fk",
          "tableFrom": "invoice_items",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoice_items_class_id_classes_id_fk": {
          "name": "invoice_items_class_id_classes_id_fk",
          "tableFrom": "invoice_items",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "invoices": {
      "name": "invoices",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "payer_user_id": {
          "name": "payer_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "payer_name": {
          "name": "payer_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "payer_email": {
          "name": "payer_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "payer_tax_id": {
          "name": "payer_tax_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "student_user_id": {
          "name": "student_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "student_name": {
          "name": "student_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "course_id": {
          "name": "course_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "gross_amount": {
          "name": "gross_amount",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "discount_amount": {
          "name": "discount_amount",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "fee_amount": {
          "name": "fee_amount",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "net_amount": {
          "name": "net_amount",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'BRL'"
        },
        "installment_number": {
          "name": "installment_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "total_installments": {
          "name": "total_installments",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "due_date": {
          "name": "due_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "paid_date": {
          "name": "paid_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'pending'"
        },
        "payment_method": {
          "name": "payment_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "payment_provider": {
          "name": "payment_provider",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "external_payment_id": {
          "name": "external_payment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "split_config": {
          "name": "split_config",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_invoices_payer": {
          "name": "idx_invoices_payer",
          "columns": [
            "payer_user_id"
          ],
          "isUnique": false
        },
        "idx_invoices_student": {
          "name": "idx_invoices_student",
          "columns": [
            "student_user_id"
          ],
          "isUnique": false
        },
        "idx_invoices_course": {
          "name": "idx_invoices_course",
          "columns": [
            "course_id"
          ],
          "isUnique": false
        },
        "idx_invoices_status": {
          "name": "idx_invoices_status",
          "columns": [
            "status",
            "due_date"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "invoices_organization_id_organizations_id_fk": {
          "name": "invoices_organization_id_organizations_id_fk",
          "tableFrom": "invoices",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoices_payer_user_id_users_id_fk": {
          "name": "invoices_payer_user_id_users_id_fk",
          "tableFrom": "invoices",
          "tableTo": "users",
          "columnsFrom": [
            "payer_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoices_student_user_id_users_id_fk": {
          "name": "invoices_student_user_id_users_id_fk",
          "tableFrom": "invoices",
          "tableTo": "users",
          "columnsFrom": [
            "student_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoices_course_id_courses_id_fk": {
          "name": "invoices_course_id_courses_id_fk",
          "tableFrom": "invoices",
          "tableTo": "courses",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "journal_entries": {
      "name": "journal_entries",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "entry_number": {
          "name": "entry_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "reference_date": {
          "name": "reference_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "posting_date": {
          "name": "posting_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fiscal_year": {
          "name": "fiscal_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fiscal_month": {
          "name": "fiscal_month",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "source_id": {
          "name": "source_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'draft'"
        },
        "is_reversal": {
          "name": "is_reversal",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "reverses_entry_id": {
          "name": "reverses_entry_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "reversed_by_entry_id": {
          "name": "reversed_by_entry_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "posted_by": {
          "name": "posted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "posted_at": {
          "name": "posted_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_journal_entries_org": {
          "name": "idx_journal_entries_org",
          "columns": [
            "organization_id",
            "fiscal_year",
            "fiscal_month"
          ],
          "isUnique": false
        },
        "idx_journal_entries_date": {
          "name": "idx_journal_entries_date",
          "columns": [
            "reference_date"
          ],
          "isUnique": false
        },
        "idx_journal_entries_source": {
          "name": "idx_journal_entries_source",
          "columns": [
            "source_type",
            "source_id"
          ],
          "isUnique": false
        },
        "idx_journal_entries_number": {
          "name": "idx_journal_entries_number",
          "columns": [
            "organization_id",
            "entry_number"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "journal_entries_organization_id_organizations_id_fk": {
          "name": "journal_entries_organization_id_organizations_id_fk",
          "tableFrom": "journal_entries",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "journal_entries_created_by_users_id_fk": {
          "name": "journal_entries_created_by_users_id_fk",
          "tableFrom": "journal_entries",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "journal_entries_posted_by_users_id_fk": {
          "name": "journal_entries_posted_by_users_id_fk",
          "tableFrom": "journal_entries",
          "tableTo": "users",
          "columnsFrom": [
            "posted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "journal_entry_lines": {
      "name": "journal_entry_lines",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "entry_id": {
          "name": "entry_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "account_id": {
          "name": "account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "cost_center_id": {
          "name": "cost_center_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "amount_cents": {
          "name": "amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'BRL'"
        },
        "entry_type": {
          "name": "entry_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tax_code": {
          "name": "tax_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tax_amount_cents": {
          "name": "tax_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "document_number": {
          "name": "document_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "document_date": {
          "name": "document_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "line_number": {
          "name": "line_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_journal_lines_entry": {
          "name": "idx_journal_lines_entry",
          "columns": [
            "entry_id"
          ],
          "isUnique": false
        },
        "idx_journal_lines_account": {
          "name": "idx_journal_lines_account",
          "columns": [
            "account_id"
          ],
          "isUnique": false
        },
        "idx_journal_lines_cost_center": {
          "name": "idx_journal_lines_cost_center",
          "columns": [
            "cost_center_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "journal_entry_lines_entry_id_journal_entries_id_fk": {
          "name": "journal_entry_lines_entry_id_journal_entries_id_fk",
          "tableFrom": "journal_entry_lines",
          "tableTo": "journal_entries",
          "columnsFrom": [
            "entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "journal_entry_lines_account_id_chart_of_accounts_id_fk": {
          "name": "journal_entry_lines_account_id_chart_of_accounts_id_fk",
          "tableFrom": "journal_entry_lines",
          "tableTo": "chart_of_accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "journal_entry_lines_cost_center_id_cost_centers_id_fk": {
          "name": "journal_entry_lines_cost_center_id_cost_centers_id_fk",
          "tableFrom": "journal_entry_lines",
          "tableTo": "cost_centers",
          "columnsFrom": [
            "cost_center_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "knowledge_edges": {
      "name": "knowledge_edges",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "from_node_id": {
          "name": "from_node_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "to_node_id": {
          "name": "to_node_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "edge_type": {
          "name": "edge_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'related'"
        },
        "weight": {
          "name": "weight",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_edge_unique": {
          "name": "idx_edge_unique",
          "columns": [
            "from_node_id",
            "to_node_id"
          ],
          "isUnique": true
        },
        "idx_edge_user": {
          "name": "idx_edge_user",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "knowledge_edges_user_id_users_id_fk": {
          "name": "knowledge_edges_user_id_users_id_fk",
          "tableFrom": "knowledge_edges",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "knowledge_edges_from_node_id_knowledge_nodes_id_fk": {
          "name": "knowledge_edges_from_node_id_knowledge_nodes_id_fk",
          "tableFrom": "knowledge_edges",
          "tableTo": "knowledge_nodes",
          "columnsFrom": [
            "from_node_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "knowledge_edges_to_node_id_knowledge_nodes_id_fk": {
          "name": "knowledge_edges_to_node_id_knowledge_nodes_id_fk",
          "tableFrom": "knowledge_edges",
          "tableTo": "knowledge_nodes",
          "columnsFrom": [
            "to_node_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "knowledge_nodes": {
      "name": "knowledge_nodes",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "node_type": {
          "name": "node_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'concept'"
        },
        "depth": {
          "name": "depth",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "source_run_id": {
          "name": "source_run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "source_lesson_id": {
          "name": "source_lesson_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "module_id": {
          "name": "module_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "technique": {
          "name": "technique",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_knowledge_user": {
          "name": "idx_knowledge_user",
          "columns": [
            "user_id",
            "node_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "knowledge_nodes_user_id_users_id_fk": {
          "name": "knowledge_nodes_user_id_users_id_fk",
          "tableFrom": "knowledge_nodes",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "knowledge_nodes_source_run_id_prompt_runs_id_fk": {
          "name": "knowledge_nodes_source_run_id_prompt_runs_id_fk",
          "tableFrom": "knowledge_nodes",
          "tableTo": "prompt_runs",
          "columnsFrom": [
            "source_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "knowledge_nodes_source_lesson_id_lessons_id_fk": {
          "name": "knowledge_nodes_source_lesson_id_lessons_id_fk",
          "tableFrom": "knowledge_nodes",
          "tableTo": "lessons",
          "columnsFrom": [
            "source_lesson_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "knowledge_nodes_module_id_modules_id_fk": {
          "name": "knowledge_nodes_module_id_modules_id_fk",
          "tableFrom": "knowledge_nodes",
          "tableTo": "modules",
          "columnsFrom": [
            "module_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "lattice_evidence": {
      "name": "lattice_evidence",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "person_id": {
          "name": "person_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "context": {
          "name": "context",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "source_id": {
          "name": "source_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "embedding": {
          "name": "embedding",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "skill_scores": {
          "name": "skill_scores",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'active'"
        },
        "contest_reason": {
          "name": "contest_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "contested_at": {
          "name": "contested_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "contested_by": {
          "name": "contested_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "captured_at": {
          "name": "captured_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_lattice_evidence_person": {
          "name": "idx_lattice_evidence_person",
          "columns": [
            "person_id"
          ],
          "isUnique": false
        },
        "idx_lattice_evidence_org": {
          "name": "idx_lattice_evidence_org",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        },
        "idx_lattice_evidence_source": {
          "name": "idx_lattice_evidence_source",
          "columns": [
            "source_type"
          ],
          "isUnique": false
        },
        "idx_lattice_evidence_status": {
          "name": "idx_lattice_evidence_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "idx_lattice_evidence_captured": {
          "name": "idx_lattice_evidence_captured",
          "columns": [
            "captured_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "lattice_evidence_person_id_users_id_fk": {
          "name": "lattice_evidence_person_id_users_id_fk",
          "tableFrom": "lattice_evidence",
          "tableTo": "users",
          "columnsFrom": [
            "person_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lattice_evidence_organization_id_organizations_id_fk": {
          "name": "lattice_evidence_organization_id_organizations_id_fk",
          "tableFrom": "lattice_evidence",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "lattice_projection_results": {
      "name": "lattice_projection_results",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "person_id": {
          "name": "person_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "projection_id": {
          "name": "projection_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "shape_data": {
          "name": "shape_data",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "shadow_regions": {
          "name": "shadow_regions",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "fit_score": {
          "name": "fit_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "exclusion_violations": {
          "name": "exclusion_violations",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "evidence_points_used": {
          "name": "evidence_points_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "time_range_start": {
          "name": "time_range_start",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "time_range_end": {
          "name": "time_range_end",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_lattice_results_person": {
          "name": "idx_lattice_results_person",
          "columns": [
            "person_id"
          ],
          "isUnique": false
        },
        "idx_lattice_results_projection": {
          "name": "idx_lattice_results_projection",
          "columns": [
            "projection_id"
          ],
          "isUnique": false
        },
        "idx_lattice_results_unique": {
          "name": "idx_lattice_results_unique",
          "columns": [
            "person_id",
            "projection_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "lattice_projection_results_person_id_users_id_fk": {
          "name": "lattice_projection_results_person_id_users_id_fk",
          "tableFrom": "lattice_projection_results",
          "tableTo": "users",
          "columnsFrom": [
            "person_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lattice_projection_results_projection_id_lattice_projections_id_fk": {
          "name": "lattice_projection_results_projection_id_lattice_projections_id_fk",
          "tableFrom": "lattice_projection_results",
          "tableTo": "lattice_projections",
          "columnsFrom": [
            "projection_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "lattice_projections": {
      "name": "lattice_projections",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "query_text": {
          "name": "query_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "query_embedding": {
          "name": "query_embedding",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'custom'"
        },
        "shadow_exclusions": {
          "name": "shadow_exclusions",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "ideal_shape_data": {
          "name": "ideal_shape_data",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_public": {
          "name": "is_public",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_lattice_projections_org": {
          "name": "idx_lattice_projections_org",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        },
        "idx_lattice_projections_category": {
          "name": "idx_lattice_projections_category",
          "columns": [
            "category"
          ],
          "isUnique": false
        },
        "idx_lattice_projections_public": {
          "name": "idx_lattice_projections_public",
          "columns": [
            "is_public"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "lattice_projections_organization_id_organizations_id_fk": {
          "name": "lattice_projections_organization_id_organizations_id_fk",
          "tableFrom": "lattice_projections",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lattice_projections_created_by_users_id_fk": {
          "name": "lattice_projections_created_by_users_id_fk",
          "tableFrom": "lattice_projections",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "lattice_shares": {
      "name": "lattice_shares",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "owner_id": {
          "name": "owner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "grantee_id": {
          "name": "grantee_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "grantee_email": {
          "name": "grantee_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "projection_id": {
          "name": "projection_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "can_see_shape": {
          "name": "can_see_shape",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "can_see_points": {
          "name": "can_see_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "can_see_timeline": {
          "name": "can_see_timeline",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "max_views": {
          "name": "max_views",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "view_count": {
          "name": "view_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "last_accessed_at": {
          "name": "last_accessed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_lattice_shares_owner": {
          "name": "idx_lattice_shares_owner",
          "columns": [
            "owner_id"
          ],
          "isUnique": false
        },
        "idx_lattice_shares_grantee": {
          "name": "idx_lattice_shares_grantee",
          "columns": [
            "grantee_id"
          ],
          "isUnique": false
        },
        "idx_lattice_shares_token": {
          "name": "idx_lattice_shares_token",
          "columns": [
            "access_token"
          ],
          "isUnique": false
        },
        "idx_lattice_shares_status": {
          "name": "idx_lattice_shares_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "lattice_shares_owner_id_users_id_fk": {
          "name": "lattice_shares_owner_id_users_id_fk",
          "tableFrom": "lattice_shares",
          "tableTo": "users",
          "columnsFrom": [
            "owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lattice_shares_grantee_id_users_id_fk": {
          "name": "lattice_shares_grantee_id_users_id_fk",
          "tableFrom": "lattice_shares",
          "tableTo": "users",
          "columnsFrom": [
            "grantee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lattice_shares_projection_id_lattice_projections_id_fk": {
          "name": "lattice_shares_projection_id_lattice_projections_id_fk",
          "tableFrom": "lattice_shares",
          "tableTo": "lattice_projections",
          "columnsFrom": [
            "projection_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "lattice_skill_assessments": {
      "name": "lattice_skill_assessments",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "person_id": {
          "name": "person_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "skill_id": {
          "name": "skill_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "position": {
          "name": "position",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "confidence": {
          "name": "confidence",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "evidence_count": {
          "name": "evidence_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "casts_shadow": {
          "name": "casts_shadow",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "shadow_intensity": {
          "name": "shadow_intensity",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "last_calculated_at": {
          "name": "last_calculated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_lattice_assessments_person": {
          "name": "idx_lattice_assessments_person",
          "columns": [
            "person_id"
          ],
          "isUnique": false
        },
        "idx_lattice_assessments_skill": {
          "name": "idx_lattice_assessments_skill",
          "columns": [
            "skill_id"
          ],
          "isUnique": false
        },
        "idx_lattice_assessments_unique": {
          "name": "idx_lattice_assessments_unique",
          "columns": [
            "person_id",
            "skill_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "lattice_skill_assessments_person_id_users_id_fk": {
          "name": "lattice_skill_assessments_person_id_users_id_fk",
          "tableFrom": "lattice_skill_assessments",
          "tableTo": "users",
          "columnsFrom": [
            "person_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lattice_skill_assessments_skill_id_lattice_skill_definitions_id_fk": {
          "name": "lattice_skill_assessments_skill_id_lattice_skill_definitions_id_fk",
          "tableFrom": "lattice_skill_assessments",
          "tableTo": "lattice_skill_definitions",
          "columnsFrom": [
            "skill_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "lattice_skill_definitions": {
      "name": "lattice_skill_definitions",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "skill_name": {
          "name": "skill_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "adjacent_skills": {
          "name": "adjacent_skills",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_lattice_skills_category": {
          "name": "idx_lattice_skills_category",
          "columns": [
            "category"
          ],
          "isUnique": false
        },
        "idx_lattice_skills_unique": {
          "name": "idx_lattice_skills_unique",
          "columns": [
            "category",
            "skill_name"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "lead_interactions": {
      "name": "lead_interactions",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "lead_id": {
          "name": "lead_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "interaction_type": {
          "name": "interaction_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "direction": {
          "name": "direction",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "outcome": {
          "name": "outcome",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_interactions_lead": {
          "name": "idx_interactions_lead",
          "columns": [
            "lead_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "lead_interactions_lead_id_leads_id_fk": {
          "name": "lead_interactions_lead_id_leads_id_fk",
          "tableFrom": "lead_interactions",
          "tableTo": "leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lead_interactions_created_by_users_id_fk": {
          "name": "lead_interactions_created_by_users_id_fk",
          "tableFrom": "lead_interactions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "leads": {
      "name": "leads",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "whatsapp": {
          "name": "whatsapp",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "source_detail": {
          "name": "source_detail",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "utm_source": {
          "name": "utm_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "utm_medium": {
          "name": "utm_medium",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "utm_campaign": {
          "name": "utm_campaign",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "interested_in": {
          "name": "interested_in",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "current_level": {
          "name": "current_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "preferred_schedule": {
          "name": "preferred_schedule",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'new'"
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "referred_by_user_id": {
          "name": "referred_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "converted_to_user_id": {
          "name": "converted_to_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "converted_at": {
          "name": "converted_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_contact_at": {
          "name": "last_contact_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "next_followup_at": {
          "name": "next_followup_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_leads_status": {
          "name": "idx_leads_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "idx_leads_assigned": {
          "name": "idx_leads_assigned",
          "columns": [
            "assigned_to"
          ],
          "isUnique": false
        },
        "idx_leads_followup": {
          "name": "idx_leads_followup",
          "columns": [
            "next_followup_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "leads_organization_id_organizations_id_fk": {
          "name": "leads_organization_id_organizations_id_fk",
          "tableFrom": "leads",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leads_assigned_to_users_id_fk": {
          "name": "leads_assigned_to_users_id_fk",
          "tableFrom": "leads",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leads_referred_by_user_id_users_id_fk": {
          "name": "leads_referred_by_user_id_users_id_fk",
          "tableFrom": "leads",
          "tableTo": "users",
          "columnsFrom": [
            "referred_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leads_converted_to_user_id_users_id_fk": {
          "name": "leads_converted_to_user_id_users_id_fk",
          "tableFrom": "leads",
          "tableTo": "users",
          "columnsFrom": [
            "converted_to_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "lessons": {
      "name": "lessons",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "module_id": {
          "name": "module_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'{}'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "content_format": {
          "name": "content_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'markdown'"
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "lesson_type": {
          "name": "lesson_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'standard'"
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "archived_at": {
          "name": "archived_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_lessons_module": {
          "name": "idx_lessons_module",
          "columns": [
            "module_id",
            "order_index"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "lessons_module_id_modules_id_fk": {
          "name": "lessons_module_id_modules_id_fk",
          "tableFrom": "lessons",
          "tableTo": "modules",
          "columnsFrom": [
            "module_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "levels": {
      "name": "levels",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "course_type_id": {
          "name": "course_type_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "prerequisite_level_id": {
          "name": "prerequisite_level_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "estimated_hours": {
          "name": "estimated_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_levels_unique": {
          "name": "idx_levels_unique",
          "columns": [
            "course_type_id",
            "code"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "levels_course_type_id_course_types_id_fk": {
          "name": "levels_course_type_id_course_types_id_fk",
          "tableFrom": "levels",
          "tableTo": "course_types",
          "columnsFrom": [
            "course_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "memory_audit_log": {
      "name": "memory_audit_log",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "operation": {
          "name": "operation",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "actor": {
          "name": "actor",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "details": {
          "name": "details",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "timestamp": {
          "name": "timestamp",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_audit_student": {
          "name": "idx_audit_student",
          "columns": [
            "student_id",
            "timestamp"
          ],
          "isUnique": false
        },
        "idx_audit_operation": {
          "name": "idx_audit_operation",
          "columns": [
            "operation"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "memory_audit_log_student_id_users_id_fk": {
          "name": "memory_audit_log_student_id_users_id_fk",
          "tableFrom": "memory_audit_log",
          "tableTo": "users",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "memory_contradictions": {
      "name": "memory_contradictions",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "graph_id": {
          "name": "graph_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "node_a": {
          "name": "node_a",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "node_b": {
          "name": "node_b",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "resolved": {
          "name": "resolved",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "resolved_to": {
          "name": "resolved_to",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "strategy": {
          "name": "strategy",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "detected_at": {
          "name": "detected_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_contradictions_graph": {
          "name": "idx_contradictions_graph",
          "columns": [
            "graph_id",
            "resolved"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "memory_contradictions_graph_id_memory_graphs_id_fk": {
          "name": "memory_contradictions_graph_id_memory_graphs_id_fk",
          "tableFrom": "memory_contradictions",
          "tableTo": "memory_graphs",
          "columnsFrom": [
            "graph_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "memory_contradictions_node_a_memory_nodes_id_fk": {
          "name": "memory_contradictions_node_a_memory_nodes_id_fk",
          "tableFrom": "memory_contradictions",
          "tableTo": "memory_nodes",
          "columnsFrom": [
            "node_a"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "memory_contradictions_node_b_memory_nodes_id_fk": {
          "name": "memory_contradictions_node_b_memory_nodes_id_fk",
          "tableFrom": "memory_contradictions",
          "tableTo": "memory_nodes",
          "columnsFrom": [
            "node_b"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "memory_contradictions_resolved_to_memory_nodes_id_fk": {
          "name": "memory_contradictions_resolved_to_memory_nodes_id_fk",
          "tableFrom": "memory_contradictions",
          "tableTo": "memory_nodes",
          "columnsFrom": [
            "resolved_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "memory_edges": {
      "name": "memory_edges",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "graph_id": {
          "name": "graph_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "source_id": {
          "name": "source_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "target_id": {
          "name": "target_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "edge_type": {
          "name": "edge_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "direction": {
          "name": "direction",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'forward'"
        },
        "weight": {
          "name": "weight",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "valence": {
          "name": "valence",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "reverse_weight": {
          "name": "reverse_weight",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "sequence": {
          "name": "sequence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "strength": {
          "name": "strength",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_memory_edges_graph": {
          "name": "idx_memory_edges_graph",
          "columns": [
            "graph_id"
          ],
          "isUnique": false
        },
        "idx_memory_edges_source": {
          "name": "idx_memory_edges_source",
          "columns": [
            "source_id"
          ],
          "isUnique": false
        },
        "idx_memory_edges_target": {
          "name": "idx_memory_edges_target",
          "columns": [
            "target_id"
          ],
          "isUnique": false
        },
        "idx_memory_edges_type": {
          "name": "idx_memory_edges_type",
          "columns": [
            "graph_id",
            "edge_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "memory_edges_graph_id_memory_graphs_id_fk": {
          "name": "memory_edges_graph_id_memory_graphs_id_fk",
          "tableFrom": "memory_edges",
          "tableTo": "memory_graphs",
          "columnsFrom": [
            "graph_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "memory_edges_source_id_memory_nodes_id_fk": {
          "name": "memory_edges_source_id_memory_nodes_id_fk",
          "tableFrom": "memory_edges",
          "tableTo": "memory_nodes",
          "columnsFrom": [
            "source_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "memory_edges_target_id_memory_nodes_id_fk": {
          "name": "memory_edges_target_id_memory_nodes_id_fk",
          "tableFrom": "memory_edges",
          "tableTo": "memory_nodes",
          "columnsFrom": [
            "target_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "memory_graphs": {
      "name": "memory_graphs",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "snr": {
          "name": "snr",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "compression_passes": {
          "name": "compression_passes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "loss_vector": {
          "name": "loss_vector",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "node_count": {
          "name": "node_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "edge_count": {
          "name": "edge_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "oldest_memory": {
          "name": "oldest_memory",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "newest_memory": {
          "name": "newest_memory",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "last_compressed": {
          "name": "last_compressed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_accessed": {
          "name": "last_accessed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_memory_graphs_student": {
          "name": "idx_memory_graphs_student",
          "columns": [
            "student_id"
          ],
          "isUnique": true
        },
        "idx_memory_graphs_org": {
          "name": "idx_memory_graphs_org",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "memory_graphs_student_id_users_id_fk": {
          "name": "memory_graphs_student_id_users_id_fk",
          "tableFrom": "memory_graphs",
          "tableTo": "users",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "memory_graphs_organization_id_organizations_id_fk": {
          "name": "memory_graphs_organization_id_organizations_id_fk",
          "tableFrom": "memory_graphs",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "memory_integrity_hashes": {
      "name": "memory_integrity_hashes",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "graph_hash": {
          "name": "graph_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "ledger_hash": {
          "name": "ledger_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_integrity_student": {
          "name": "idx_integrity_student",
          "columns": [
            "student_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "memory_integrity_hashes_student_id_users_id_fk": {
          "name": "memory_integrity_hashes_student_id_users_id_fk",
          "tableFrom": "memory_integrity_hashes",
          "tableTo": "users",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "memory_ledger": {
      "name": "memory_ledger",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "graph_id": {
          "name": "graph_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "importance": {
          "name": "importance",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "trigger_threshold": {
          "name": "trigger_threshold",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0.5
        },
        "linked_nodes": {
          "name": "linked_nodes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "triggers": {
          "name": "triggers",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "trigger_entities": {
          "name": "trigger_entities",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "source_entity": {
          "name": "source_entity",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "source_date": {
          "name": "source_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "expires_at": {
          "name": "expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "access_count": {
          "name": "access_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "last_accessed": {
          "name": "last_accessed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_memory_ledger_graph": {
          "name": "idx_memory_ledger_graph",
          "columns": [
            "graph_id"
          ],
          "isUnique": false
        },
        "idx_memory_ledger_category": {
          "name": "idx_memory_ledger_category",
          "columns": [
            "graph_id",
            "category"
          ],
          "isUnique": false
        },
        "idx_memory_ledger_importance": {
          "name": "idx_memory_ledger_importance",
          "columns": [
            "graph_id",
            "importance"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "memory_ledger_graph_id_memory_graphs_id_fk": {
          "name": "memory_ledger_graph_id_memory_graphs_id_fk",
          "tableFrom": "memory_ledger",
          "tableTo": "memory_graphs",
          "columnsFrom": [
            "graph_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "memory_nodes": {
      "name": "memory_nodes",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "graph_id": {
          "name": "graph_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "content_hash": {
          "name": "content_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "gravity": {
          "name": "gravity",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "salience": {
          "name": "salience",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "confidence": {
          "name": "confidence",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "modality": {
          "name": "modality",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'semantic'"
        },
        "sequence": {
          "name": "sequence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "strength": {
          "name": "strength",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "last_accessed": {
          "name": "last_accessed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'chat'"
        },
        "source_id": {
          "name": "source_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "embedding": {
          "name": "embedding",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_memory_nodes_graph": {
          "name": "idx_memory_nodes_graph",
          "columns": [
            "graph_id"
          ],
          "isUnique": false
        },
        "idx_memory_nodes_gravity": {
          "name": "idx_memory_nodes_gravity",
          "columns": [
            "graph_id",
            "gravity"
          ],
          "isUnique": false
        },
        "idx_memory_nodes_modality": {
          "name": "idx_memory_nodes_modality",
          "columns": [
            "graph_id",
            "modality"
          ],
          "isUnique": false
        },
        "idx_memory_nodes_timestamp": {
          "name": "idx_memory_nodes_timestamp",
          "columns": [
            "graph_id",
            "timestamp"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "memory_nodes_graph_id_memory_graphs_id_fk": {
          "name": "memory_nodes_graph_id_memory_graphs_id_fk",
          "tableFrom": "memory_nodes",
          "tableTo": "memory_graphs",
          "columnsFrom": [
            "graph_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "modules": {
      "name": "modules",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "course_id": {
          "name": "course_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'{}'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "estimated_hours": {
          "name": "estimated_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "archived_at": {
          "name": "archived_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_modules_course": {
          "name": "idx_modules_course",
          "columns": [
            "course_id",
            "order_index"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "modules_course_id_courses_id_fk": {
          "name": "modules_course_id_courses_id_fk",
          "tableFrom": "modules",
          "tableTo": "courses",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "organizations": {
      "name": "organizations",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "plan": {
          "name": "plan",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'free'"
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "subscription_ends_at": {
          "name": "subscription_ends_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "settings": {
          "name": "settings",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "archived_at": {
          "name": "archived_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "organizations_slug_unique": {
          "name": "organizations_slug_unique",
          "columns": [
            "slug"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "payables": {
      "name": "payables",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "vendor_name": {
          "name": "vendor_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "vendor_document": {
          "name": "vendor_document",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "invoice_number": {
          "name": "invoice_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "invoice_url": {
          "name": "invoice_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'other'"
        },
        "amount_cents": {
          "name": "amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'BRL'"
        },
        "issue_date": {
          "name": "issue_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "due_date": {
          "name": "due_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "paid_date": {
          "name": "paid_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'pending'"
        },
        "payment_method": {
          "name": "payment_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "payment_reference": {
          "name": "payment_reference",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_recurring": {
          "name": "is_recurring",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "recurrence_interval": {
          "name": "recurrence_interval",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "parent_payable_id": {
          "name": "parent_payable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_payables_org": {
          "name": "idx_payables_org",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        },
        "idx_payables_due": {
          "name": "idx_payables_due",
          "columns": [
            "due_date",
            "status"
          ],
          "isUnique": false
        },
        "idx_payables_category": {
          "name": "idx_payables_category",
          "columns": [
            "category"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "payables_organization_id_organizations_id_fk": {
          "name": "payables_organization_id_organizations_id_fk",
          "tableFrom": "payables",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payables_created_by_users_id_fk": {
          "name": "payables_created_by_users_id_fk",
          "tableFrom": "payables",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "payment_methods": {
      "name": "payment_methods",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "method_type": {
          "name": "method_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "is_default": {
          "name": "is_default",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "bank_code": {
          "name": "bank_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "bank_name": {
          "name": "bank_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "account_type": {
          "name": "account_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "account_number": {
          "name": "account_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "account_digit": {
          "name": "account_digit",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "branch_number": {
          "name": "branch_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "branch_digit": {
          "name": "branch_digit",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "holder_name": {
          "name": "holder_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "holder_document": {
          "name": "holder_document",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "pix_key_type": {
          "name": "pix_key_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "pix_key": {
          "name": "pix_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "card_brand": {
          "name": "card_brand",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "card_last_4": {
          "name": "card_last_4",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "card_expiry": {
          "name": "card_expiry",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "card_token": {
          "name": "card_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "wallet_provider": {
          "name": "wallet_provider",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "wallet_account_id": {
          "name": "wallet_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "verified_at": {
          "name": "verified_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_payment_methods_user": {
          "name": "idx_payment_methods_user",
          "columns": [
            "user_id",
            "method_type"
          ],
          "isUnique": false
        },
        "idx_payment_methods_org": {
          "name": "idx_payment_methods_org",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "payment_methods_user_id_users_id_fk": {
          "name": "payment_methods_user_id_users_id_fk",
          "tableFrom": "payment_methods",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_methods_organization_id_organizations_id_fk": {
          "name": "payment_methods_organization_id_organizations_id_fk",
          "tableFrom": "payment_methods",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "payroll_payments": {
      "name": "payroll_payments",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "payroll_id": {
          "name": "payroll_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "payment_method_id": {
          "name": "payment_method_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "amount_cents": {
          "name": "amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'BRL'"
        },
        "method_type": {
          "name": "method_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "payment_provider": {
          "name": "payment_provider",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "external_payment_id": {
          "name": "external_payment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "external_batch_id": {
          "name": "external_batch_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'pending'"
        },
        "scheduled_for": {
          "name": "scheduled_for",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "failed_at": {
          "name": "failed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "receipt_url": {
          "name": "receipt_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "receipt_number": {
          "name": "receipt_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "paid_by": {
          "name": "paid_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "confirmed_by": {
          "name": "confirmed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_payroll_payments_payroll": {
          "name": "idx_payroll_payments_payroll",
          "columns": [
            "payroll_id"
          ],
          "isUnique": false
        },
        "idx_payroll_payments_user": {
          "name": "idx_payroll_payments_user",
          "columns": [
            "user_id",
            "status"
          ],
          "isUnique": false
        },
        "idx_payroll_payments_status": {
          "name": "idx_payroll_payments_status",
          "columns": [
            "status",
            "scheduled_for"
          ],
          "isUnique": false
        },
        "idx_payroll_payments_external": {
          "name": "idx_payroll_payments_external",
          "columns": [
            "external_payment_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "payroll_payments_payroll_id_staff_payroll_id_fk": {
          "name": "payroll_payments_payroll_id_staff_payroll_id_fk",
          "tableFrom": "payroll_payments",
          "tableTo": "staff_payroll",
          "columnsFrom": [
            "payroll_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payroll_payments_user_id_users_id_fk": {
          "name": "payroll_payments_user_id_users_id_fk",
          "tableFrom": "payroll_payments",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payroll_payments_payment_method_id_payment_methods_id_fk": {
          "name": "payroll_payments_payment_method_id_payment_methods_id_fk",
          "tableFrom": "payroll_payments",
          "tableTo": "payment_methods",
          "columnsFrom": [
            "payment_method_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payroll_payments_paid_by_users_id_fk": {
          "name": "payroll_payments_paid_by_users_id_fk",
          "tableFrom": "payroll_payments",
          "tableTo": "users",
          "columnsFrom": [
            "paid_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payroll_payments_confirmed_by_users_id_fk": {
          "name": "payroll_payments_confirmed_by_users_id_fk",
          "tableFrom": "payroll_payments",
          "tableTo": "users",
          "columnsFrom": [
            "confirmed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "peer_reviews": {
      "name": "peer_reviews",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "submission_id": {
          "name": "submission_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "reviewer_id": {
          "name": "reviewer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "held_character": {
          "name": "held_character",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "creativity": {
          "name": "creativity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "technique_usage": {
          "name": "technique_usage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "overall": {
          "name": "overall",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "feedback": {
          "name": "feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "quality_score": {
          "name": "quality_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_peer_review_unique": {
          "name": "idx_peer_review_unique",
          "columns": [
            "submission_id",
            "reviewer_id"
          ],
          "isUnique": true
        },
        "idx_peer_review_reviewer": {
          "name": "idx_peer_review_reviewer",
          "columns": [
            "reviewer_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "peer_reviews_submission_id_capstone_submissions_id_fk": {
          "name": "peer_reviews_submission_id_capstone_submissions_id_fk",
          "tableFrom": "peer_reviews",
          "tableTo": "capstone_submissions",
          "columnsFrom": [
            "submission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "peer_reviews_reviewer_id_users_id_fk": {
          "name": "peer_reviews_reviewer_id_users_id_fk",
          "tableFrom": "peer_reviews",
          "tableTo": "users",
          "columnsFrom": [
            "reviewer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "placement_results": {
      "name": "placement_results",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "test_id": {
          "name": "test_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "score": {
          "name": "score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "max_score": {
          "name": "max_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "recommended_level_id": {
          "name": "recommended_level_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "section_scores": {
          "name": "section_scores",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "final_level_id": {
          "name": "final_level_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "override_reason": {
          "name": "override_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "overridden_by": {
          "name": "overridden_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "taken_at": {
          "name": "taken_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_placement_user": {
          "name": "idx_placement_user",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "placement_results_test_id_placement_tests_id_fk": {
          "name": "placement_results_test_id_placement_tests_id_fk",
          "tableFrom": "placement_results",
          "tableTo": "placement_tests",
          "columnsFrom": [
            "test_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placement_results_user_id_users_id_fk": {
          "name": "placement_results_user_id_users_id_fk",
          "tableFrom": "placement_results",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placement_results_recommended_level_id_levels_id_fk": {
          "name": "placement_results_recommended_level_id_levels_id_fk",
          "tableFrom": "placement_results",
          "tableTo": "levels",
          "columnsFrom": [
            "recommended_level_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placement_results_final_level_id_levels_id_fk": {
          "name": "placement_results_final_level_id_levels_id_fk",
          "tableFrom": "placement_results",
          "tableTo": "levels",
          "columnsFrom": [
            "final_level_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placement_results_overridden_by_users_id_fk": {
          "name": "placement_results_overridden_by_users_id_fk",
          "tableFrom": "placement_results",
          "tableTo": "users",
          "columnsFrom": [
            "overridden_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "placement_tests": {
      "name": "placement_tests",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "course_type_id": {
          "name": "course_type_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "sections": {
          "name": "sections",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "max_score": {
          "name": "max_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "level_thresholds": {
          "name": "level_thresholds",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "placement_tests_organization_id_organizations_id_fk": {
          "name": "placement_tests_organization_id_organizations_id_fk",
          "tableFrom": "placement_tests",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placement_tests_course_type_id_course_types_id_fk": {
          "name": "placement_tests_course_type_id_course_types_id_fk",
          "tableFrom": "placement_tests",
          "tableTo": "course_types",
          "columnsFrom": [
            "course_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "problem_workshops": {
      "name": "problem_workshops",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "raw_problem": {
          "name": "raw_problem",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "why_chain": {
          "name": "why_chain",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "root_cause": {
          "name": "root_cause",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "sign_name": {
          "name": "sign_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "sign_description": {
          "name": "sign_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "stakeholders": {
          "name": "stakeholders",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "required_skills": {
          "name": "required_skills",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "skill_gaps": {
          "name": "skill_gaps",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "solution_shape": {
          "name": "solution_shape",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "ai_agent_potential": {
          "name": "ai_agent_potential",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "agent_sketch": {
          "name": "agent_sketch",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'draft'"
        },
        "current_step": {
          "name": "current_step",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "selected_for_capstone": {
          "name": "selected_for_capstone",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_workshop_user": {
          "name": "idx_workshop_user",
          "columns": [
            "user_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "problem_workshops_user_id_users_id_fk": {
          "name": "problem_workshops_user_id_users_id_fk",
          "tableFrom": "problem_workshops",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "products": {
      "name": "products",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "product_type": {
          "name": "product_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "price_cents": {
          "name": "price_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'BRL'"
        },
        "is_recurring": {
          "name": "is_recurring",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "recurrence_interval": {
          "name": "recurrence_interval",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "course_id": {
          "name": "course_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "course_type_id": {
          "name": "course_type_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "level_id": {
          "name": "level_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_products_org": {
          "name": "idx_products_org",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        },
        "idx_products_type": {
          "name": "idx_products_type",
          "columns": [
            "product_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "products_organization_id_organizations_id_fk": {
          "name": "products_organization_id_organizations_id_fk",
          "tableFrom": "products",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "products_course_id_courses_id_fk": {
          "name": "products_course_id_courses_id_fk",
          "tableFrom": "products",
          "tableTo": "courses",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "products_course_type_id_course_types_id_fk": {
          "name": "products_course_type_id_course_types_id_fk",
          "tableFrom": "products",
          "tableTo": "course_types",
          "columnsFrom": [
            "course_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "products_level_id_levels_id_fk": {
          "name": "products_level_id_levels_id_fk",
          "tableFrom": "products",
          "tableTo": "levels",
          "columnsFrom": [
            "level_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "progress": {
      "name": "progress",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "course_id": {
          "name": "course_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "module_id": {
          "name": "module_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lesson_id": {
          "name": "lesson_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "task_id": {
          "name": "task_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'not_started'"
        },
        "score": {
          "name": "score",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "max_score": {
          "name": "max_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "started_at": {
          "name": "started_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "time_spent_sec": {
          "name": "time_spent_sec",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_progress_unique": {
          "name": "idx_progress_unique",
          "columns": [
            "user_id",
            "class_id",
            "task_id"
          ],
          "isUnique": true
        },
        "idx_progress_user": {
          "name": "idx_progress_user",
          "columns": [
            "user_id",
            "class_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "progress_user_id_users_id_fk": {
          "name": "progress_user_id_users_id_fk",
          "tableFrom": "progress",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "progress_course_id_courses_id_fk": {
          "name": "progress_course_id_courses_id_fk",
          "tableFrom": "progress",
          "tableTo": "courses",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "progress_module_id_modules_id_fk": {
          "name": "progress_module_id_modules_id_fk",
          "tableFrom": "progress",
          "tableTo": "modules",
          "columnsFrom": [
            "module_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "progress_lesson_id_lessons_id_fk": {
          "name": "progress_lesson_id_lessons_id_fk",
          "tableFrom": "progress",
          "tableTo": "lessons",
          "columnsFrom": [
            "lesson_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "progress_task_id_tasks_id_fk": {
          "name": "progress_task_id_tasks_id_fk",
          "tableFrom": "progress",
          "tableTo": "tasks",
          "columnsFrom": [
            "task_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "prompt_deltas": {
      "name": "prompt_deltas",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "prompt_id": {
          "name": "prompt_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "patch": {
          "name": "patch",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "change_summary": {
          "name": "change_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "changed_by": {
          "name": "changed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_deltas_prompt_version": {
          "name": "idx_deltas_prompt_version",
          "columns": [
            "prompt_id",
            "version"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "prompt_deltas_prompt_id_prompts_id_fk": {
          "name": "prompt_deltas_prompt_id_prompts_id_fk",
          "tableFrom": "prompt_deltas",
          "tableTo": "prompts",
          "columnsFrom": [
            "prompt_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "prompt_deltas_changed_by_users_id_fk": {
          "name": "prompt_deltas_changed_by_users_id_fk",
          "tableFrom": "prompt_deltas",
          "tableTo": "users",
          "columnsFrom": [
            "changed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "prompt_runs": {
      "name": "prompt_runs",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "prompt_id": {
          "name": "prompt_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "system_prompt": {
          "name": "system_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "messages": {
          "name": "messages",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "temperature": {
          "name": "temperature",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "max_tokens": {
          "name": "max_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "other_params": {
          "name": "other_params",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "output": {
          "name": "output",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "output_tokens": {
          "name": "output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "input_tokens": {
          "name": "input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "latency_ms": {
          "name": "latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "held_character": {
          "name": "held_character",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "user_rating": {
          "name": "user_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error_code": {
          "name": "error_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "benchmark_id": {
          "name": "benchmark_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "benchmark_run_index": {
          "name": "benchmark_run_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_runs_prompt": {
          "name": "idx_runs_prompt",
          "columns": [
            "prompt_id",
            "created_at"
          ],
          "isUnique": false
        },
        "idx_runs_user": {
          "name": "idx_runs_user",
          "columns": [
            "user_id",
            "created_at"
          ],
          "isUnique": false
        },
        "idx_runs_benchmark": {
          "name": "idx_runs_benchmark",
          "columns": [
            "benchmark_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "prompt_runs_prompt_id_prompts_id_fk": {
          "name": "prompt_runs_prompt_id_prompts_id_fk",
          "tableFrom": "prompt_runs",
          "tableTo": "prompts",
          "columnsFrom": [
            "prompt_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "prompt_runs_user_id_users_id_fk": {
          "name": "prompt_runs_user_id_users_id_fk",
          "tableFrom": "prompt_runs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "prompts": {
      "name": "prompts",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tags": {
          "name": "tags",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "base_system_prompt": {
          "name": "base_system_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "base_messages": {
          "name": "base_messages",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "current_system_prompt": {
          "name": "current_system_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "current_messages": {
          "name": "current_messages",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "current_version": {
          "name": "current_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "forked_from": {
          "name": "forked_from",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "fork_version": {
          "name": "fork_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "shared_with": {
          "name": "shared_with",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'private'"
        },
        "share_token": {
          "name": "share_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "course_id": {
          "name": "course_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "module_id": {
          "name": "module_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lesson_id": {
          "name": "lesson_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "task_id": {
          "name": "task_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "archived_at": {
          "name": "archived_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "prompts_share_token_unique": {
          "name": "prompts_share_token_unique",
          "columns": [
            "share_token"
          ],
          "isUnique": true
        },
        "idx_prompts_user": {
          "name": "idx_prompts_user",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "idx_prompts_org": {
          "name": "idx_prompts_org",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        },
        "idx_prompts_share": {
          "name": "idx_prompts_share",
          "columns": [
            "shared_with"
          ],
          "isUnique": false
        },
        "idx_prompts_token": {
          "name": "idx_prompts_token",
          "columns": [
            "share_token"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "prompts_user_id_users_id_fk": {
          "name": "prompts_user_id_users_id_fk",
          "tableFrom": "prompts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "prompts_organization_id_organizations_id_fk": {
          "name": "prompts_organization_id_organizations_id_fk",
          "tableFrom": "prompts",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "prompts_forked_from_prompts_id_fk": {
          "name": "prompts_forked_from_prompts_id_fk",
          "tableFrom": "prompts",
          "tableTo": "prompts",
          "columnsFrom": [
            "forked_from"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "prompts_course_id_courses_id_fk": {
          "name": "prompts_course_id_courses_id_fk",
          "tableFrom": "prompts",
          "tableTo": "courses",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "prompts_module_id_modules_id_fk": {
          "name": "prompts_module_id_modules_id_fk",
          "tableFrom": "prompts",
          "tableTo": "modules",
          "columnsFrom": [
            "module_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "prompts_lesson_id_lessons_id_fk": {
          "name": "prompts_lesson_id_lessons_id_fk",
          "tableFrom": "prompts",
          "tableTo": "lessons",
          "columnsFrom": [
            "lesson_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "prompts_task_id_tasks_id_fk": {
          "name": "prompts_task_id_tasks_id_fk",
          "tableFrom": "prompts",
          "tableTo": "tasks",
          "columnsFrom": [
            "task_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "referrals": {
      "name": "referrals",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "referrer_id": {
          "name": "referrer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "lead_id": {
          "name": "lead_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "referred_user_id": {
          "name": "referred_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'pending'"
        },
        "referrer_reward_type": {
          "name": "referrer_reward_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "referrer_reward_value": {
          "name": "referrer_reward_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "referrer_reward_applied": {
          "name": "referrer_reward_applied",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "referred_reward_type": {
          "name": "referred_reward_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "referred_reward_value": {
          "name": "referred_reward_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "referred_reward_applied": {
          "name": "referred_reward_applied",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_referrals_referrer": {
          "name": "idx_referrals_referrer",
          "columns": [
            "referrer_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "referrals_organization_id_organizations_id_fk": {
          "name": "referrals_organization_id_organizations_id_fk",
          "tableFrom": "referrals",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referrals_referrer_id_users_id_fk": {
          "name": "referrals_referrer_id_users_id_fk",
          "tableFrom": "referrals",
          "tableTo": "users",
          "columnsFrom": [
            "referrer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referrals_lead_id_leads_id_fk": {
          "name": "referrals_lead_id_leads_id_fk",
          "tableFrom": "referrals",
          "tableTo": "leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referrals_referred_user_id_users_id_fk": {
          "name": "referrals_referred_user_id_users_id_fk",
          "tableFrom": "referrals",
          "tableTo": "users",
          "columnsFrom": [
            "referred_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "role_permissions": {
      "name": "role_permissions",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "module": {
          "name": "module",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "can_create": {
          "name": "can_create",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "can_read": {
          "name": "can_read",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "can_update": {
          "name": "can_update",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "can_delete": {
          "name": "can_delete",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_role_permissions_org_role": {
          "name": "idx_role_permissions_org_role",
          "columns": [
            "organization_id",
            "role"
          ],
          "isUnique": false
        },
        "idx_role_permissions_unique": {
          "name": "idx_role_permissions_unique",
          "columns": [
            "organization_id",
            "role",
            "module"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "role_permissions_organization_id_organizations_id_fk": {
          "name": "role_permissions_organization_id_organizations_id_fk",
          "tableFrom": "role_permissions",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "rooms": {
      "name": "rooms",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "capacity": {
          "name": "capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 15
        },
        "room_type": {
          "name": "room_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'classroom'"
        },
        "default_meet_url": {
          "name": "default_meet_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "floor": {
          "name": "floor",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "building": {
          "name": "building",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "amenities": {
          "name": "amenities",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_rooms_org": {
          "name": "idx_rooms_org",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "rooms_organization_id_organizations_id_fk": {
          "name": "rooms_organization_id_organizations_id_fk",
          "tableFrom": "rooms",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "run_annotations": {
      "name": "run_annotations",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "run_id": {
          "name": "run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "annotation": {
          "name": "annotation",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "annotation_type": {
          "name": "annotation_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'reflection'"
        },
        "insight_captured": {
          "name": "insight_captured",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "knowledge_node_id": {
          "name": "knowledge_node_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_run_annotations_run": {
          "name": "idx_run_annotations_run",
          "columns": [
            "run_id"
          ],
          "isUnique": false
        },
        "idx_run_annotations_user": {
          "name": "idx_run_annotations_user",
          "columns": [
            "user_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "run_annotations_run_id_prompt_runs_id_fk": {
          "name": "run_annotations_run_id_prompt_runs_id_fk",
          "tableFrom": "run_annotations",
          "tableTo": "prompt_runs",
          "columnsFrom": [
            "run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "run_annotations_user_id_users_id_fk": {
          "name": "run_annotations_user_id_users_id_fk",
          "tableFrom": "run_annotations",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "safety_alerts": {
      "name": "safety_alerts",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "level": {
          "name": "level",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "detected_by": {
          "name": "detected_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "detected_at": {
          "name": "detected_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "acknowledged_by": {
          "name": "acknowledged_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "resolution_notes": {
          "name": "resolution_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notified_parents": {
          "name": "notified_parents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "notified_authorities": {
          "name": "notified_authorities",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        }
      },
      "indexes": {
        "idx_alerts_student": {
          "name": "idx_alerts_student",
          "columns": [
            "student_id"
          ],
          "isUnique": false
        },
        "idx_alerts_level": {
          "name": "idx_alerts_level",
          "columns": [
            "level"
          ],
          "isUnique": false
        },
        "idx_alerts_unresolved": {
          "name": "idx_alerts_unresolved",
          "columns": [
            "organization_id",
            "resolved_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "safety_alerts_student_id_users_id_fk": {
          "name": "safety_alerts_student_id_users_id_fk",
          "tableFrom": "safety_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "safety_alerts_organization_id_organizations_id_fk": {
          "name": "safety_alerts_organization_id_organizations_id_fk",
          "tableFrom": "safety_alerts",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "safety_alerts_acknowledged_by_users_id_fk": {
          "name": "safety_alerts_acknowledged_by_users_id_fk",
          "tableFrom": "safety_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "acknowledged_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "safety_alerts_resolved_by_users_id_fk": {
          "name": "safety_alerts_resolved_by_users_id_fk",
          "tableFrom": "safety_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "resolved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "schedule_exceptions": {
      "name": "schedule_exceptions",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "schedule_id": {
          "name": "schedule_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "exception_date": {
          "name": "exception_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "exception_type": {
          "name": "exception_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "new_room_id": {
          "name": "new_room_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "new_start_time": {
          "name": "new_start_time",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "new_end_time": {
          "name": "new_end_time",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_exceptions_date": {
          "name": "idx_exceptions_date",
          "columns": [
            "exception_date"
          ],
          "isUnique": false
        },
        "idx_exceptions_class": {
          "name": "idx_exceptions_class",
          "columns": [
            "class_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "schedule_exceptions_schedule_id_schedules_id_fk": {
          "name": "schedule_exceptions_schedule_id_schedules_id_fk",
          "tableFrom": "schedule_exceptions",
          "tableTo": "schedules",
          "columnsFrom": [
            "schedule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "schedule_exceptions_class_id_classes_id_fk": {
          "name": "schedule_exceptions_class_id_classes_id_fk",
          "tableFrom": "schedule_exceptions",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "schedule_exceptions_new_room_id_rooms_id_fk": {
          "name": "schedule_exceptions_new_room_id_rooms_id_fk",
          "tableFrom": "schedule_exceptions",
          "tableTo": "rooms",
          "columnsFrom": [
            "new_room_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "schedules": {
      "name": "schedules",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "room_id": {
          "name": "room_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "day_of_week": {
          "name": "day_of_week",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "start_time": {
          "name": "start_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "end_time": {
          "name": "end_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "valid_until": {
          "name": "valid_until",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_schedules_class": {
          "name": "idx_schedules_class",
          "columns": [
            "class_id"
          ],
          "isUnique": false
        },
        "idx_schedules_room": {
          "name": "idx_schedules_room",
          "columns": [
            "room_id",
            "day_of_week"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "schedules_class_id_classes_id_fk": {
          "name": "schedules_class_id_classes_id_fk",
          "tableFrom": "schedules",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "schedules_room_id_rooms_id_fk": {
          "name": "schedules_room_id_rooms_id_fk",
          "tableFrom": "schedules",
          "tableTo": "rooms",
          "columnsFrom": [
            "room_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "school_services": {
      "name": "school_services",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "price_type": {
          "name": "price_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "price": {
          "name": "price",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "is_active": {
          "name": "is_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "school_services_organization_id_organizations_id_fk": {
          "name": "school_services_organization_id_organizations_id_fk",
          "tableFrom": "school_services",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "staff_contracts": {
      "name": "staff_contracts",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "job_title": {
          "name": "job_title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "department": {
          "name": "department",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'admin'"
        },
        "contract_type": {
          "name": "contract_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "salary_cents": {
          "name": "salary_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "hourly_rate_cents": {
          "name": "hourly_rate_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "weekly_hours": {
          "name": "weekly_hours",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 40
        },
        "work_schedule": {
          "name": "work_schedule",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "access_level": {
          "name": "access_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'basic'"
        },
        "starts_at": {
          "name": "starts_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "ends_at": {
          "name": "ends_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'active'"
        },
        "benefits": {
          "name": "benefits",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_staff_contracts_user": {
          "name": "idx_staff_contracts_user",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "idx_staff_contracts_org": {
          "name": "idx_staff_contracts_org",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        },
        "idx_staff_contracts_dept": {
          "name": "idx_staff_contracts_dept",
          "columns": [
            "department"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "staff_contracts_organization_id_organizations_id_fk": {
          "name": "staff_contracts_organization_id_organizations_id_fk",
          "tableFrom": "staff_contracts",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staff_contracts_user_id_users_id_fk": {
          "name": "staff_contracts_user_id_users_id_fk",
          "tableFrom": "staff_contracts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "staff_leave": {
      "name": "staff_leave",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "contract_id": {
          "name": "contract_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "leave_type": {
          "name": "leave_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "start_date": {
          "name": "start_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "end_date": {
          "name": "end_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'pending'"
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_staff_leave_user": {
          "name": "idx_staff_leave_user",
          "columns": [
            "user_id",
            "start_date"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "staff_leave_user_id_users_id_fk": {
          "name": "staff_leave_user_id_users_id_fk",
          "tableFrom": "staff_leave",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staff_leave_contract_id_staff_contracts_id_fk": {
          "name": "staff_leave_contract_id_staff_contracts_id_fk",
          "tableFrom": "staff_leave",
          "tableTo": "staff_contracts",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staff_leave_approved_by_users_id_fk": {
          "name": "staff_leave_approved_by_users_id_fk",
          "tableFrom": "staff_leave",
          "tableTo": "users",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "staff_payroll": {
      "name": "staff_payroll",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "contract_id": {
          "name": "contract_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "period_start": {
          "name": "period_start",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "period_end": {
          "name": "period_end",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "payment_due_date": {
          "name": "payment_due_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "payroll_type": {
          "name": "payroll_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'salary'"
        },
        "gross_amount_cents": {
          "name": "gross_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "deductions": {
          "name": "deductions",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "total_deductions_cents": {
          "name": "total_deductions_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "additions": {
          "name": "additions",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "total_additions_cents": {
          "name": "total_additions_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "net_amount_cents": {
          "name": "net_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'BRL'"
        },
        "hours_worked": {
          "name": "hours_worked",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "hourly_rate_cents": {
          "name": "hourly_rate_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "timesheet_id": {
          "name": "timesheet_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'draft'"
        },
        "calculated_by": {
          "name": "calculated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "paid_at": {
          "name": "paid_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "paid_amount_cents": {
          "name": "paid_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "payslip_url": {
          "name": "payslip_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_staff_payroll_user": {
          "name": "idx_staff_payroll_user",
          "columns": [
            "user_id",
            "period_start"
          ],
          "isUnique": false
        },
        "idx_staff_payroll_contract": {
          "name": "idx_staff_payroll_contract",
          "columns": [
            "contract_id"
          ],
          "isUnique": false
        },
        "idx_staff_payroll_status": {
          "name": "idx_staff_payroll_status",
          "columns": [
            "status",
            "payment_due_date"
          ],
          "isUnique": false
        },
        "idx_staff_payroll_org": {
          "name": "idx_staff_payroll_org",
          "columns": [
            "organization_id",
            "period_start"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "staff_payroll_organization_id_organizations_id_fk": {
          "name": "staff_payroll_organization_id_organizations_id_fk",
          "tableFrom": "staff_payroll",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staff_payroll_contract_id_staff_contracts_id_fk": {
          "name": "staff_payroll_contract_id_staff_contracts_id_fk",
          "tableFrom": "staff_payroll",
          "tableTo": "staff_contracts",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staff_payroll_user_id_users_id_fk": {
          "name": "staff_payroll_user_id_users_id_fk",
          "tableFrom": "staff_payroll",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staff_payroll_calculated_by_users_id_fk": {
          "name": "staff_payroll_calculated_by_users_id_fk",
          "tableFrom": "staff_payroll",
          "tableTo": "users",
          "columnsFrom": [
            "calculated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staff_payroll_approved_by_users_id_fk": {
          "name": "staff_payroll_approved_by_users_id_fk",
          "tableFrom": "staff_payroll",
          "tableTo": "users",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "student_prompts": {
      "name": "student_prompts",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "system_prompt": {
          "name": "system_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "user_message": {
          "name": "user_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tags": {
          "name": "tags",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "forked_from": {
          "name": "forked_from",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_public": {
          "name": "is_public",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "run_count": {
          "name": "run_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "held_rate": {
          "name": "held_rate",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "module_id": {
          "name": "module_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lesson_id": {
          "name": "lesson_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "archived_at": {
          "name": "archived_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_student_prompts_user": {
          "name": "idx_student_prompts_user",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "idx_student_prompts_public": {
          "name": "idx_student_prompts_public",
          "columns": [
            "is_public",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "student_prompts_user_id_users_id_fk": {
          "name": "student_prompts_user_id_users_id_fk",
          "tableFrom": "student_prompts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_prompts_forked_from_student_prompts_id_fk": {
          "name": "student_prompts_forked_from_student_prompts_id_fk",
          "tableFrom": "student_prompts",
          "tableTo": "student_prompts",
          "columnsFrom": [
            "forked_from"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "student_prompts_module_id_modules_id_fk": {
          "name": "student_prompts_module_id_modules_id_fk",
          "tableFrom": "student_prompts",
          "tableTo": "modules",
          "columnsFrom": [
            "module_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "student_prompts_lesson_id_lessons_id_fk": {
          "name": "student_prompts_lesson_id_lessons_id_fk",
          "tableFrom": "student_prompts",
          "tableTo": "lessons",
          "columnsFrom": [
            "lesson_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "student_world_overlay": {
      "name": "student_world_overlay",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "graph_id": {
          "name": "graph_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "known_nodes": {
          "name": "known_nodes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "known_edges": {
          "name": "known_edges",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "node_overrides": {
          "name": "node_overrides",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "relationship_cache": {
          "name": "relationship_cache",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "stats": {
          "name": "stats",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_world_overlay_student": {
          "name": "idx_world_overlay_student",
          "columns": [
            "student_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "student_world_overlay_student_id_users_id_fk": {
          "name": "student_world_overlay_student_id_users_id_fk",
          "tableFrom": "student_world_overlay",
          "tableTo": "users",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_world_overlay_graph_id_memory_graphs_id_fk": {
          "name": "student_world_overlay_graph_id_memory_graphs_id_fk",
          "tableFrom": "student_world_overlay",
          "tableTo": "memory_graphs",
          "columnsFrom": [
            "graph_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "talent_evidence_documents": {
      "name": "talent_evidence_documents",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "profile_id": {
          "name": "profile_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "filename": {
          "name": "filename",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "file_type": {
          "name": "file_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "file_content": {
          "name": "file_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "document_type": {
          "name": "document_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'other'"
        },
        "analysis_status": {
          "name": "analysis_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'pending'"
        },
        "analysis_result": {
          "name": "analysis_result",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "skills_extracted": {
          "name": "skills_extracted",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "contributed_to_lattice": {
          "name": "contributed_to_lattice",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "contributed_at": {
          "name": "contributed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_talent_docs_profile": {
          "name": "idx_talent_docs_profile",
          "columns": [
            "profile_id"
          ],
          "isUnique": false
        },
        "idx_talent_docs_user": {
          "name": "idx_talent_docs_user",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "idx_talent_docs_status": {
          "name": "idx_talent_docs_status",
          "columns": [
            "analysis_status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "talent_evidence_documents_profile_id_talent_profiles_id_fk": {
          "name": "talent_evidence_documents_profile_id_talent_profiles_id_fk",
          "tableFrom": "talent_evidence_documents",
          "tableTo": "talent_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "talent_evidence_documents_user_id_users_id_fk": {
          "name": "talent_evidence_documents_user_id_users_id_fk",
          "tableFrom": "talent_evidence_documents",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "talent_gap_interviews": {
      "name": "talent_gap_interviews",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "profile_id": {
          "name": "profile_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "target_skills": {
          "name": "target_skills",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "messages": {
          "name": "messages",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'in_progress'"
        },
        "skills_assessed": {
          "name": "skills_assessed",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lattice_contribution": {
          "name": "lattice_contribution",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_gap_interviews_profile": {
          "name": "idx_gap_interviews_profile",
          "columns": [
            "profile_id"
          ],
          "isUnique": false
        },
        "idx_gap_interviews_status": {
          "name": "idx_gap_interviews_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "talent_gap_interviews_profile_id_talent_profiles_id_fk": {
          "name": "talent_gap_interviews_profile_id_talent_profiles_id_fk",
          "tableFrom": "talent_gap_interviews",
          "tableTo": "talent_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "talent_profiles": {
      "name": "talent_profiles",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "headline": {
          "name": "headline",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "cv_data": {
          "name": "cv_data",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "current_lattice": {
          "name": "current_lattice",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "interview_messages": {
          "name": "interview_messages",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "interview_completed_at": {
          "name": "interview_completed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "skill_gaps": {
          "name": "skill_gaps",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "last_gap_check_at": {
          "name": "last_gap_check_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "evidence_count": {
          "name": "evidence_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "profile_completeness": {
          "name": "profile_completeness",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'incomplete'"
        },
        "is_searchable": {
          "name": "is_searchable",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_talent_profiles_user": {
          "name": "idx_talent_profiles_user",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "idx_talent_profiles_status": {
          "name": "idx_talent_profiles_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "idx_talent_profiles_searchable": {
          "name": "idx_talent_profiles_searchable",
          "columns": [
            "is_searchable"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "talent_profiles_user_id_users_id_fk": {
          "name": "talent_profiles_user_id_users_id_fk",
          "tableFrom": "talent_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "tasks": {
      "name": "tasks",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "lesson_id": {
          "name": "lesson_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'{}'"
        },
        "instructions": {
          "name": "instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "task_type": {
          "name": "task_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "config": {
          "name": "config",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "max_points": {
          "name": "max_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 10
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "archived_at": {
          "name": "archived_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_tasks_lesson": {
          "name": "idx_tasks_lesson",
          "columns": [
            "lesson_id",
            "order_index"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "tasks_lesson_id_lessons_id_fk": {
          "name": "tasks_lesson_id_lessons_id_fk",
          "tableFrom": "tasks",
          "tableTo": "lessons",
          "columnsFrom": [
            "lesson_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "tax_withholdings": {
      "name": "tax_withholdings",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fiscal_year": {
          "name": "fiscal_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fiscal_month": {
          "name": "fiscal_month",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "beneficiary_id": {
          "name": "beneficiary_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "beneficiary_document": {
          "name": "beneficiary_document",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "beneficiary_name": {
          "name": "beneficiary_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tax_type": {
          "name": "tax_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "gross_amount_cents": {
          "name": "gross_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "taxable_base_cents": {
          "name": "taxable_base_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "withheld_amount_cents": {
          "name": "withheld_amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tax_rate": {
          "name": "tax_rate",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tax_code": {
          "name": "tax_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "source_id": {
          "name": "source_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "fiscal_document_id": {
          "name": "fiscal_document_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "payment_date": {
          "name": "payment_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "darf_number": {
          "name": "darf_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "darf_paid_at": {
          "name": "darf_paid_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_tax_withholdings_org": {
          "name": "idx_tax_withholdings_org",
          "columns": [
            "organization_id",
            "fiscal_year",
            "fiscal_month"
          ],
          "isUnique": false
        },
        "idx_tax_withholdings_beneficiary": {
          "name": "idx_tax_withholdings_beneficiary",
          "columns": [
            "beneficiary_document",
            "fiscal_year"
          ],
          "isUnique": false
        },
        "idx_tax_withholdings_type": {
          "name": "idx_tax_withholdings_type",
          "columns": [
            "tax_type",
            "fiscal_month"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "tax_withholdings_organization_id_organizations_id_fk": {
          "name": "tax_withholdings_organization_id_organizations_id_fk",
          "tableFrom": "tax_withholdings",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_withholdings_beneficiary_id_users_id_fk": {
          "name": "tax_withholdings_beneficiary_id_users_id_fk",
          "tableFrom": "tax_withholdings",
          "tableTo": "users",
          "columnsFrom": [
            "beneficiary_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_withholdings_fiscal_document_id_fiscal_documents_id_fk": {
          "name": "tax_withholdings_fiscal_document_id_fiscal_documents_id_fk",
          "tableFrom": "tax_withholdings",
          "tableTo": "fiscal_documents",
          "columnsFrom": [
            "fiscal_document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "teacher_contracts": {
      "name": "teacher_contracts",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "teacher_id": {
          "name": "teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "contract_type": {
          "name": "contract_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "base_salary_cents": {
          "name": "base_salary_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "hourly_rate_cents": {
          "name": "hourly_rate_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "commission_rate": {
          "name": "commission_rate",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "min_hours_week": {
          "name": "min_hours_week",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "max_hours_week": {
          "name": "max_hours_week",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "starts_at": {
          "name": "starts_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "ends_at": {
          "name": "ends_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_contracts_teacher": {
          "name": "idx_contracts_teacher",
          "columns": [
            "teacher_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "teacher_contracts_organization_id_organizations_id_fk": {
          "name": "teacher_contracts_organization_id_organizations_id_fk",
          "tableFrom": "teacher_contracts",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "teacher_contracts_teacher_id_users_id_fk": {
          "name": "teacher_contracts_teacher_id_users_id_fk",
          "tableFrom": "teacher_contracts",
          "tableTo": "users",
          "columnsFrom": [
            "teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "teacher_payouts": {
      "name": "teacher_payouts",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "teacher_id": {
          "name": "teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "period_start": {
          "name": "period_start",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "period_end": {
          "name": "period_end",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "gross_amount": {
          "name": "gross_amount",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "deductions": {
          "name": "deductions",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "net_amount": {
          "name": "net_amount",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'BRL'"
        },
        "breakdown": {
          "name": "breakdown",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'calculating'"
        },
        "paid_date": {
          "name": "paid_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "payout_reference": {
          "name": "payout_reference",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_teacher_payouts_teacher": {
          "name": "idx_teacher_payouts_teacher",
          "columns": [
            "teacher_id",
            "period_start"
          ],
          "isUnique": false
        },
        "idx_teacher_payouts_status": {
          "name": "idx_teacher_payouts_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "teacher_payouts_teacher_id_users_id_fk": {
          "name": "teacher_payouts_teacher_id_users_id_fk",
          "tableFrom": "teacher_payouts",
          "tableTo": "users",
          "columnsFrom": [
            "teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "teacher_payouts_organization_id_organizations_id_fk": {
          "name": "teacher_payouts_organization_id_organizations_id_fk",
          "tableFrom": "teacher_payouts",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "teacher_payouts_approved_by_users_id_fk": {
          "name": "teacher_payouts_approved_by_users_id_fk",
          "tableFrom": "teacher_payouts",
          "tableTo": "users",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "teacher_profiles": {
      "name": "teacher_profiles",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "payment_model": {
          "name": "payment_model",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'school_employee'"
        },
        "revenue_percentage": {
          "name": "revenue_percentage",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "room_rental_fee": {
          "name": "room_rental_fee",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "subscribed_services": {
          "name": "subscribed_services",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "bank_name": {
          "name": "bank_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "bank_agency": {
          "name": "bank_agency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "bank_account": {
          "name": "bank_account",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "pix_key": {
          "name": "pix_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "pix_key_type": {
          "name": "pix_key_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tax_id": {
          "name": "tax_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tax_id_type": {
          "name": "tax_id_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_teacher_profiles_user": {
          "name": "idx_teacher_profiles_user",
          "columns": [
            "user_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "teacher_profiles_user_id_users_id_fk": {
          "name": "teacher_profiles_user_id_users_id_fk",
          "tableFrom": "teacher_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "teacher_profiles_organization_id_organizations_id_fk": {
          "name": "teacher_profiles_organization_id_organizations_id_fk",
          "tableFrom": "teacher_profiles",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "technique_usage": {
      "name": "technique_usage",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "run_id": {
          "name": "run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "technique": {
          "name": "technique",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "held_character": {
          "name": "held_character",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_technique_user": {
          "name": "idx_technique_user",
          "columns": [
            "user_id",
            "technique"
          ],
          "isUnique": false
        },
        "idx_technique_run": {
          "name": "idx_technique_run",
          "columns": [
            "run_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "technique_usage_user_id_users_id_fk": {
          "name": "technique_usage_user_id_users_id_fk",
          "tableFrom": "technique_usage",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "technique_usage_run_id_prompt_runs_id_fk": {
          "name": "technique_usage_run_id_prompt_runs_id_fk",
          "tableFrom": "technique_usage",
          "tableTo": "prompt_runs",
          "columnsFrom": [
            "run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "terms": {
      "name": "terms",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "enrollment_opens": {
          "name": "enrollment_opens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "enrollment_closes": {
          "name": "enrollment_closes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "classes_start": {
          "name": "classes_start",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "classes_end": {
          "name": "classes_end",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'planning'"
        },
        "is_current": {
          "name": "is_current",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_terms_org": {
          "name": "idx_terms_org",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        },
        "idx_terms_current": {
          "name": "idx_terms_current",
          "columns": [
            "organization_id",
            "is_current"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "terms_organization_id_organizations_id_fk": {
          "name": "terms_organization_id_organizations_id_fk",
          "tableFrom": "terms",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "todo_items": {
      "name": "todo_items",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 2
        },
        "urgency": {
          "name": "urgency",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 2
        },
        "energy_cost": {
          "name": "energy_cost",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 2
        },
        "depends_on": {
          "name": "depends_on",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "future_impact": {
          "name": "future_impact",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'active'"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lesson_id": {
          "name": "lesson_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_todo_user": {
          "name": "idx_todo_user",
          "columns": [
            "user_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "todo_items_user_id_users_id_fk": {
          "name": "todo_items_user_id_users_id_fk",
          "tableFrom": "todo_items",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "todo_items_lesson_id_lessons_id_fk": {
          "name": "todo_items_lesson_id_lessons_id_fk",
          "tableFrom": "todo_items",
          "tableTo": "lessons",
          "columnsFrom": [
            "lesson_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "transactions": {
      "name": "transactions",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "invoice_id": {
          "name": "invoice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "amount": {
          "name": "amount",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'BRL'"
        },
        "service_id": {
          "name": "service_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'pending'"
        },
        "payout_method": {
          "name": "payout_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "payout_reference": {
          "name": "payout_reference",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "payout_date": {
          "name": "payout_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_transactions_invoice": {
          "name": "idx_transactions_invoice",
          "columns": [
            "invoice_id"
          ],
          "isUnique": false
        },
        "idx_transactions_user": {
          "name": "idx_transactions_user",
          "columns": [
            "user_id",
            "created_at"
          ],
          "isUnique": false
        },
        "idx_transactions_type": {
          "name": "idx_transactions_type",
          "columns": [
            "type",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "transactions_invoice_id_invoices_id_fk": {
          "name": "transactions_invoice_id_invoices_id_fk",
          "tableFrom": "transactions",
          "tableTo": "invoices",
          "columnsFrom": [
            "invoice_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transactions_organization_id_organizations_id_fk": {
          "name": "transactions_organization_id_organizations_id_fk",
          "tableFrom": "transactions",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transactions_user_id_users_id_fk": {
          "name": "transactions_user_id_users_id_fk",
          "tableFrom": "transactions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transactions_service_id_school_services_id_fk": {
          "name": "transactions_service_id_school_services_id_fk",
          "tableFrom": "transactions",
          "tableTo": "school_services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "trial_classes": {
      "name": "trial_classes",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "lead_id": {
          "name": "lead_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "scheduled_date": {
          "name": "scheduled_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "scheduled_time": {
          "name": "scheduled_time",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "room_id": {
          "name": "room_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "teacher_id": {
          "name": "teacher_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'scheduled'"
        },
        "feedback_score": {
          "name": "feedback_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "feedback_notes": {
          "name": "feedback_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "teacher_notes": {
          "name": "teacher_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "outcome": {
          "name": "outcome",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_trials_lead": {
          "name": "idx_trials_lead",
          "columns": [
            "lead_id"
          ],
          "isUnique": false
        },
        "idx_trials_date": {
          "name": "idx_trials_date",
          "columns": [
            "scheduled_date"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "trial_classes_organization_id_organizations_id_fk": {
          "name": "trial_classes_organization_id_organizations_id_fk",
          "tableFrom": "trial_classes",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trial_classes_lead_id_leads_id_fk": {
          "name": "trial_classes_lead_id_leads_id_fk",
          "tableFrom": "trial_classes",
          "tableTo": "leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trial_classes_user_id_users_id_fk": {
          "name": "trial_classes_user_id_users_id_fk",
          "tableFrom": "trial_classes",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trial_classes_class_id_classes_id_fk": {
          "name": "trial_classes_class_id_classes_id_fk",
          "tableFrom": "trial_classes",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trial_classes_session_id_class_sessions_id_fk": {
          "name": "trial_classes_session_id_class_sessions_id_fk",
          "tableFrom": "trial_classes",
          "tableTo": "class_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trial_classes_room_id_rooms_id_fk": {
          "name": "trial_classes_room_id_rooms_id_fk",
          "tableFrom": "trial_classes",
          "tableTo": "rooms",
          "columnsFrom": [
            "room_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trial_classes_teacher_id_users_id_fk": {
          "name": "trial_classes_teacher_id_users_id_fk",
          "tableFrom": "trial_classes",
          "tableTo": "users",
          "columnsFrom": [
            "teacher_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "user_api_keys": {
      "name": "user_api_keys",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "encrypted_key": {
          "name": "encrypted_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "key_hint": {
          "name": "key_hint",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "total_requests": {
          "name": "total_requests",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_user_api_keys_unique": {
          "name": "idx_user_api_keys_unique",
          "columns": [
            "user_id",
            "provider"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "user_api_keys_user_id_users_id_fk": {
          "name": "user_api_keys_user_id_users_id_fk",
          "tableFrom": "user_api_keys",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "user_badges": {
      "name": "user_badges",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "badge_id": {
          "name": "badge_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "earned_at": {
          "name": "earned_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "context": {
          "name": "context",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_user_badge_unique": {
          "name": "idx_user_badge_unique",
          "columns": [
            "user_id",
            "badge_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "user_badges_user_id_users_id_fk": {
          "name": "user_badges_user_id_users_id_fk",
          "tableFrom": "user_badges",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_badges_badge_id_badges_id_fk": {
          "name": "user_badges_badge_id_badges_id_fk",
          "tableFrom": "user_badges",
          "tableTo": "badges",
          "columnsFrom": [
            "badge_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "user_permissions": {
      "name": "user_permissions",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "module": {
          "name": "module",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "can_create": {
          "name": "can_create",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "can_read": {
          "name": "can_read",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "can_update": {
          "name": "can_update",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "can_delete": {
          "name": "can_delete",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "granted_by": {
          "name": "granted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_user_permissions_user": {
          "name": "idx_user_permissions_user",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "idx_user_permissions_unique": {
          "name": "idx_user_permissions_unique",
          "columns": [
            "user_id",
            "module"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "user_permissions_user_id_users_id_fk": {
          "name": "user_permissions_user_id_users_id_fk",
          "tableFrom": "user_permissions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_permissions_granted_by_users_id_fk": {
          "name": "user_permissions_granted_by_users_id_fk",
          "tableFrom": "user_permissions",
          "tableTo": "users",
          "columnsFrom": [
            "granted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "users": {
      "name": "users",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'student'"
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "preferences": {
          "name": "preferences",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "archived_at": {
          "name": "archived_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_users_email": {
          "name": "idx_users_email",
          "columns": [
            "email"
          ],
          "isUnique": false
        },
        "idx_users_org": {
          "name": "idx_users_org",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "users_organization_id_organizations_id_fk": {
          "name": "users_organization_id_organizations_id_fk",
          "tableFrom": "users",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "waitlist": {
      "name": "waitlist",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lead_id": {
          "name": "lead_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "class_id": {
          "name": "class_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "course_type_id": {
          "name": "course_type_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "level_id": {
          "name": "level_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "preferred_schedule": {
          "name": "preferred_schedule",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'waiting'"
        },
        "notified_at": {
          "name": "notified_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_waitlist_class": {
          "name": "idx_waitlist_class",
          "columns": [
            "class_id",
            "position"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "waitlist_user_id_users_id_fk": {
          "name": "waitlist_user_id_users_id_fk",
          "tableFrom": "waitlist",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "waitlist_lead_id_leads_id_fk": {
          "name": "waitlist_lead_id_leads_id_fk",
          "tableFrom": "waitlist",
          "tableTo": "leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "waitlist_class_id_classes_id_fk": {
          "name": "waitlist_class_id_classes_id_fk",
          "tableFrom": "waitlist",
          "tableTo": "classes",
          "columnsFrom": [
            "class_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "waitlist_course_type_id_course_types_id_fk": {
          "name": "waitlist_course_type_id_course_types_id_fk",
          "tableFrom": "waitlist",
          "tableTo": "course_types",
          "columnsFrom": [
            "course_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "waitlist_level_id_levels_id_fk": {
          "name": "waitlist_level_id_levels_id_fk",
          "tableFrom": "waitlist",
          "tableTo": "levels",
          "columnsFrom": [
            "level_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    },
    "wellbeing_snapshots": {
      "name": "wellbeing_snapshots",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "autoincrement": false,
          "default": "(lower(hex(randomblob(16))))"
        },
        "student_id": {
          "name": "student_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "snapshot_date": {
          "name": "snapshot_date",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "engagement_score": {
          "name": "engagement_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "emotional_indicators": {
          "name": "emotional_indicators",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'{}'"
        },
        "session_count": {
          "name": "session_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "total_duration": {
          "name": "total_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "anomaly_flags": {
          "name": "anomaly_flags",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'[]'"
        },
        "created_at": {
          "name": "created_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(unixepoch())"
        }
      },
      "indexes": {
        "idx_wellbeing_student_date": {
          "name": "idx_wellbeing_student_date",
          "columns": [
            "student_id",
            "snapshot_date"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "wellbeing_snapshots_student_id_users_id_fk": {
          "name": "wellbeing_snapshots_student_id_users_id_fk",
          "tableFrom": "wellbeing_snapshots",
          "tableTo": "users",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {}
    }
  },
  "views": {},
  "enums": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "indexes": {}
  }
}